!function(t){function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=118)}([function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(140);e.d(n,"create",function(){return i.a});var r=e(21);e.d(n,"creator",function(){return r.a});var o=e(169);e.d(n,"local",function(){return o.a});var a=e(63);e.d(n,"matcher",function(){return a.a});var u=e(170);e.d(n,"mouse",function(){return u.a});var s=e(36);e.d(n,"namespace",function(){return s.a});var c=e(37);e.d(n,"namespaces",function(){return c.a});var l=e(22);e.d(n,"clientPoint",function(){return l.a});var f=e(61);e.d(n,"select",function(){return f.a});var h=e(171);e.d(n,"selectAll",function(){return h.a});var d=e(2);e.d(n,"selection",function(){return d.b});var p=e(38);e.d(n,"selector",function(){return p.a});var _=e(62);e.d(n,"selectorAll",function(){return _.a});var v=e(66);e.d(n,"style",function(){return v.b});var m=e(172);e.d(n,"touch",function(){return m.a});var g=e(173);e.d(n,"touches",function(){return g.a});var y=e(39);e.d(n,"window",function(){return y.a});var b=e(40);e.d(n,"event",function(){return b.c}),e.d(n,"customEvent",function(){return b.a})},function(t,n,e){"use strict";function i(t,n,e,a){function u(n){return t(n=new Date(+n)),n}return u.floor=u,u.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},u.round=function(t){var n=u(t),e=u.ceil(t);return t-n<e-t?n:e},u.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},u.range=function(e,i,r){var o,a=[];if(e=u.ceil(e),r=null==r?1:Math.floor(r),!(e<i&&r>0))return a;do{a.push(o=new Date(+e)),n(e,r),t(e)}while(o<e&&e<i);return a},u.filter=function(e){return i(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;n(t,-1),!e(t););else for(;--i>=0;)for(;n(t,1),!e(t););})},e&&(u.count=function(n,i){return r.setTime(+n),o.setTime(+i),t(r),t(o),Math.floor(e(r,o))},u.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?u.filter(a?function(n){return a(n)%t==0}:function(n){return u.count(0,n)%t==0}):u:null}),u}n.a=i;var r=new Date,o=new Date},function(t,n,e){"use strict";function i(t,n){this._groups=t,this._parents=n}function r(){return new i([[document.documentElement]],L)}e.d(n,"c",function(){return L}),n.a=i;var o=e(141),a=e(142),u=e(143),s=e(144),c=e(64),l=e(146),f=e(147),h=e(148),d=e(149),p=e(150),_=e(151),v=e(152),m=e(153),g=e(154),y=e(155),b=e(156),x=e(66),w=e(157),O=e(158),j=e(159),M=e(160),k=e(161),A=e(162),T=e(163),S=e(164),C=e(165),E=e(166),N=e(167),P=e(40),D=e(168),L=[null];i.prototype=r.prototype={constructor:i,select:o.a,selectAll:a.a,filter:u.a,data:s.a,enter:c.b,exit:l.a,merge:f.a,order:h.a,sort:d.a,call:p.a,nodes:_.a,node:v.a,size:m.a,empty:g.a,each:y.a,attr:b.a,style:x.a,property:w.a,classed:O.a,text:j.a,html:M.a,raise:k.a,lower:A.a,append:T.a,insert:S.a,remove:C.a,clone:E.a,datum:N.a,on:P.b,dispatch:D.a},n.b=r},function(t,n,e){"use strict";function i(t,n){var e=o(t,n);if(e.state>f)throw new Error("too late; already scheduled");return e}function r(t,n){var e=o(t,n);if(e.state>d)throw new Error("too late; already started");return e}function o(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function a(t,n,e){function i(t){e.state=h,e.timer.restart(r,e.delay,e.time),e.delay<=t&&r(t-e.delay)}function r(i){var l,f,v,g;if(e.state!==h)return a();for(l in c)if(g=c[l],g.name===e.name){if(g.state===p)return Object(s.timeout)(r);g.state===_?(g.state=m,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete c[l]):+l<n&&(g.state=m,g.timer.stop(),delete c[l])}if(Object(s.timeout)(function(){e.state===p&&(e.state=_,e.timer.restart(o,e.delay,e.time),o(i))}),e.state=d,e.on.call("start",t,t.__data__,e.index,e.group),e.state===d){for(e.state=p,u=new Array(v=e.tween.length),l=0,f=-1;l<v;++l)(g=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(u[++f]=g);u.length=f+1}}function o(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(a),e.state=v,1),r=-1,o=u.length;++r<o;)u[r].call(null,i);e.state===v&&(e.on.call("end",t,t.__data__,e.index,e.group),a())}function a(){e.state=m,e.timer.stop(),delete c[n];for(var i in c)return;delete t.__transition}var u,c=t.__transition;c[n]=e,e.timer=Object(s.timer)(i,0,e.time)}e.d(n,"c",function(){return h}),e.d(n,"d",function(){return d}),e.d(n,"b",function(){return v}),e.d(n,"a",function(){return m}),n.g=i,n.h=r,n.f=o;var u=e(19),s=e(46),c=Object(u.a)("start","end","interrupt"),l=[],f=0,h=1,d=2,p=3,_=4,v=5,m=6;n.e=function(t,n,e,i,r,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};a(t,e,{name:n,index:i,group:r,on:c,tween:l,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:f})}},function(t,n,e){"use strict";e.d(n,"d",function(){return i}),e.d(n,"c",function(){return r}),e.d(n,"b",function(){return o}),e.d(n,"a",function(){return a}),e.d(n,"e",function(){return u});var i=1e3,r=6e4,o=36e5,a=864e5,u=6048e5},function(t,n,e){"use strict";var i=e(83);e.d(n,"b",function(){return i.a});var r=e(11);e.d(n,"a",function(){return r.a});var o=e(84);e.d(n,"c",function(){return o.a});var a=(e(249),e(250),e(86),e(88),e(251),e(254),e(255),e(92),e(256),e(257),e(258),e(259),e(93),e(85),e(260),e(50));e.d(n,"d",function(){return a.a});var u=e(90);e.d(n,"e",function(){return u.a});var s=(e(261),e(262),e(263),e(91));e.d(n,"h",function(){return s.a}),e.d(n,"f",function(){return s.b}),e.d(n,"g",function(){return s.c});e(94),e(87),e(264)},function(t,n,e){"use strict";function i(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function r(t){return Object(a.selection)().transition(t)}function o(){return++j}n.a=i,n.b=o;var a=e(0),u=e(198),s=e(199),c=e(200),l=e(201),f=e(202),h=e(203),d=e(204),p=e(205),_=e(206),v=e(207),m=e(208),g=e(209),y=e(210),b=e(211),x=e(212),w=e(213),O=e(24),j=0,M=a.selection.prototype;i.prototype=r.prototype={constructor:i,select:v.a,selectAll:m.a,filter:h.a,merge:d.a,selection:g.a,transition:w.a,call:M.call,nodes:M.nodes,node:M.node,size:M.size,empty:M.empty,each:M.each,on:p.a,attr:u.a,attrTween:s.a,style:y.a,styleTween:b.a,text:x.a,remove:_.a,tween:O.a,delay:c.a,duration:l.a,ease:f.a}},function(t,n,e){"use strict";var i=e(42);e.d(n,"a",function(){return i.a});var r=(e(73),e(45),e(71),e(74),e(23));e.d(n,"b",function(){return r.a});var o=(e(75),e(182));e.d(n,"d",function(){return o.a});var a=e(76);e.d(n,"e",function(){return a.a});var u=e(183);e.d(n,"f",function(){return u.a}),e.d(n,"g",function(){return u.b});var s=e(186);e.d(n,"h",function(){return s.a});var c=e(70);e.d(n,"c",function(){return c.a});e(187),e(188),e(189),e(190),e(191)},function(t,n,e){"use strict";var i=e(43);e.d(n,"a",function(){return i.e}),e.d(n,"f",function(){return i.g}),e.d(n,"d",function(){return i.f});var r=e(180);e.d(n,"e",function(){return r.a}),e.d(n,"c",function(){return r.b});var o=e(181);e.d(n,"b",function(){return o.a})},function(t,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return o});var i=Array.prototype,r=i.map,o=i.slice},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";n.a=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}},function(t,n,e){"use strict";function i(t,n){return function(e){return t+e*n}}function r(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}function o(t,n){var e=n-t;return e?i(t,e>180||e<-180?e-360*Math.round(e/360):e):Object(s.a)(isNaN(t)?n:t)}function a(t){return 1==(t=+t)?u:function(n,e){return e-n?r(n,e,t):Object(s.a)(isNaN(n)?e:n)}}function u(t,n){var e=n-t;return e?i(t,e):Object(s.a)(isNaN(t)?n:t)}n.c=o,n.b=a,n.a=u;var s=e(72)},function(t,n,e){"use strict";n.a=function(t){return null===t?NaN:+t}},function(t,n,e){"use strict";function i(t){var n=t.domain;return t.ticks=function(t){var e=n();return Object(o.h)(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){return Object(s.a)(n(),t,e)},t.nice=function(e){null==e&&(e=10);var i,r=n(),a=0,u=r.length-1,s=r[a],c=r[u];return c<s&&(i=s,s=c,c=i,i=a,a=u,u=i),i=Object(o.f)(s,c,e),i>0?(s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i,i=Object(o.f)(s,c,e)):i<0&&(s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i,i=Object(o.f)(s,c,e)),i>0?(r[a]=Math.floor(s/i)*i,r[u]=Math.ceil(c/i)*i,n(r)):i<0&&(r[a]=Math.ceil(s*i)/i,r[u]=Math.floor(c*i)/i,n(r)),t},t}function r(){var t=Object(u.b)(u.c,a.b);return t.copy=function(){return Object(u.a)(t,r())},i(t)}n.b=i,n.a=r;var o=e(5),a=e(7),u=e(27),s=e(266)},function(t,n,e){"use strict";var i=e(289);e.d(n,"a",function(){return i.a})},function(t,n,e){"use strict";function i(t){return t>1?0:t<-1?d:Math.acos(t)}function r(t){return t>=1?p:t<=-1?-p:Math.asin(t)}e.d(n,"a",function(){return o}),e.d(n,"d",function(){return a}),e.d(n,"e",function(){return u}),e.d(n,"h",function(){return s}),e.d(n,"i",function(){return c}),e.d(n,"k",function(){return l}),e.d(n,"l",function(){return f}),e.d(n,"f",function(){return h}),e.d(n,"j",function(){return d}),e.d(n,"g",function(){return p}),e.d(n,"m",function(){return _}),n.b=i,n.c=r;var o=Math.abs,a=Math.atan2,u=Math.cos,s=Math.max,c=Math.min,l=Math.sin,f=Math.sqrt,h=1e-12,d=Math.PI,p=d/2,_=2*d},function(t,n,e){"use strict";n.a=function(t,n){if((r=t.length)>1)for(var e,i,r,o=1,a=t[n[0]],u=a.length;o<r;++o)for(i=a,a=t[n[o]],e=0;e<u;++e)a[e][1]+=a[e][0]=isNaN(i[e][1])?i[e][0]:i[e][1]}},function(t,n,e){"use strict";n.a=function(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}},function(t,n,e){"use strict";var i=e(129);e.d(n,"a",function(){return i.a})},function(t,n,e){"use strict";var i=e(33);n.a=function(t,n){return function(e,r){var o=Object(i.a)(e).mimeType(t).response(n);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return o.get(r)}return o}}},function(t,n,e){"use strict";function i(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===a.b&&n.documentElement.namespaceURI===a.b?n.createElement(t):n.createElementNS(e,t)}}function r(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var o=e(36),a=e(37);n.a=function(t){var n=Object(o.a)(t);return(n.local?r:i)(n)}},function(t,n,e){"use strict";n.a=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var r=t.getBoundingClientRect();return[n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop]}},function(t,n,e){"use strict";n.a=function(t,n){return t=+t,n-=t,function(e){return t+n*e}}},function(t,n,e){"use strict";function i(t,n){var e,i;return function(){var r=Object(a.h)(this,t),o=r.tween;if(o!==e){i=e=o;for(var u=0,s=i.length;u<s;++u)if(i[u].name===n){i=i.slice(),i.splice(u,1);break}}r.tween=i}}function r(t,n,e){var i,r;if("function"!=typeof e)throw new Error;return function(){var o=Object(a.h)(this,t),u=o.tween;if(u!==i){r=(i=u).slice();for(var s={name:n,value:e},c=0,l=r.length;c<l;++c)if(r[c].name===n){r[c]=s;break}c===l&&r.push(s)}o.tween=r}}function o(t,n,e){var i=t._id;return t.each(function(){var t=Object(a.h)(this,i);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Object(a.f)(t,i).value[n]}}n.b=o;var a=e(3);n.a=function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var o,u=Object(a.f)(this.node(),e).tween,s=0,c=u.length;s<c;++s)if((o=u[s]).name===t)return o.value;return null}return this.each((null==n?i:r)(e,t,n))}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(48);e.d(n,"timeFormatDefaultLocale",function(){return i.a}),e.d(n,"timeFormat",function(){return i.b}),e.d(n,"timeParse",function(){return i.c}),e.d(n,"utcFormat",function(){return i.d}),e.d(n,"utcParse",function(){return i.e});var r=e(80);e.d(n,"timeFormatLocale",function(){return r.a});var o=e(81);e.d(n,"isoFormat",function(){return o.a});var a=e(243);e.d(n,"isoParse",function(){return a.a})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(1);e.d(n,"timeInterval",function(){return i.a});var r=e(229);e.d(n,"timeMillisecond",function(){return r.a}),e.d(n,"timeMilliseconds",function(){return r.b}),e.d(n,"utcMillisecond",function(){return r.a}),e.d(n,"utcMilliseconds",function(){return r.b});var o=e(230);e.d(n,"timeSecond",function(){return o.a}),e.d(n,"timeSeconds",function(){return o.b}),e.d(n,"utcSecond",function(){return o.a}),e.d(n,"utcSeconds",function(){return o.b});var a=e(231);e.d(n,"timeMinute",function(){return a.a}),e.d(n,"timeMinutes",function(){return a.b});var u=e(232);e.d(n,"timeHour",function(){return u.a}),e.d(n,"timeHours",function(){return u.b});var s=e(233);e.d(n,"timeDay",function(){return s.b}),e.d(n,"timeDays",function(){return s.a});var c=e(234);e.d(n,"timeWeek",function(){return c.g}),e.d(n,"timeWeeks",function(){return c.h}),e.d(n,"timeSunday",function(){return c.g}),e.d(n,"timeSundays",function(){return c.h}),e.d(n,"timeMonday",function(){return c.c}),e.d(n,"timeMondays",function(){return c.d}),e.d(n,"timeTuesday",function(){return c.k}),e.d(n,"timeTuesdays",function(){return c.l}),e.d(n,"timeWednesday",function(){return c.m}),e.d(n,"timeWednesdays",function(){return c.n}),e.d(n,"timeThursday",function(){return c.i}),e.d(n,"timeThursdays",function(){return c.j}),e.d(n,"timeFriday",function(){return c.a}),e.d(n,"timeFridays",function(){return c.b}),e.d(n,"timeSaturday",function(){return c.e}),e.d(n,"timeSaturdays",function(){return c.f});var l=e(235);e.d(n,"timeMonth",function(){return l.a}),e.d(n,"timeMonths",function(){return l.b});var f=e(236);e.d(n,"timeYear",function(){return f.a}),e.d(n,"timeYears",function(){return f.b});var h=e(237);e.d(n,"utcMinute",function(){return h.a}),e.d(n,"utcMinutes",function(){return h.b});var d=e(238);e.d(n,"utcHour",function(){return d.a}),e.d(n,"utcHours",function(){return d.b});var p=e(239);e.d(n,"utcDay",function(){return p.a}),e.d(n,"utcDays",function(){return p.b});var _=e(240);e.d(n,"utcWeek",function(){return _.g}),e.d(n,"utcWeeks",function(){return _.h}),e.d(n,"utcSunday",function(){return _.g}),e.d(n,"utcSundays",function(){return _.h}),e.d(n,"utcMonday",function(){return _.c}),e.d(n,"utcMondays",function(){return _.d}),e.d(n,"utcTuesday",function(){return _.k}),e.d(n,"utcTuesdays",function(){return _.l}),e.d(n,"utcWednesday",function(){return _.m}),e.d(n,"utcWednesdays",function(){return _.n}),e.d(n,"utcThursday",function(){return _.i}),e.d(n,"utcThursdays",function(){return _.j}),e.d(n,"utcFriday",function(){return _.a}),e.d(n,"utcFridays",function(){return _.b}),e.d(n,"utcSaturday",function(){return _.e}),e.d(n,"utcSaturdays",function(){return _.f});var v=e(241);e.d(n,"utcMonth",function(){return v.a}),e.d(n,"utcMonths",function(){return v.b});var m=e(242);e.d(n,"utcYear",function(){return m.a}),e.d(n,"utcYears",function(){return m.b})},function(t,n,e){"use strict";function i(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Object(d.a)(n)}function r(t){return function(n,e){var i=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:i(t)}}}function o(t){return function(n,e){var i=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:i(t)}}}function a(t,n,e,i){var r=t[0],o=t[1],a=n[0],u=n[1];return o<r?(r=e(o,r),a=i(u,a)):(r=e(r,o),a=i(a,u)),function(t){return a(r(t))}}function u(t,n,e,i){var r=Math.min(t.length,n.length)-1,o=new Array(r),a=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<r;)o[u]=e(t[u],t[u+1]),a[u]=i(n[u],n[u+1]);return function(n){var e=Object(l.b)(t,n,1,r)-1;return a[e](o[e](n))}}function s(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function c(t,n){function e(){return c=Math.min(v.length,m.length)>2?u:a,l=d=null,s}function s(n){return(l||(l=c(v,m,y?r(t):t,g)))(+n)}var c,l,d,v=_,m=_,g=f.a,y=!1;return s.invert=function(t){return(d||(d=c(m,v,i,y?o(n):n)))(+t)},s.domain=function(t){return arguments.length?(v=h.a.call(t,p.a),e()):v.slice()},s.range=function(t){return arguments.length?(m=h.b.call(t),e()):m.slice()},s.rangeRound=function(t){return m=h.b.call(t),g=f.d,e()},s.clamp=function(t){return arguments.length?(y=!!t,e()):y},s.interpolate=function(t){return arguments.length?(g=t,e()):g},e()}n.c=i,n.a=s,n.b=c;var l=e(5),f=e(7),h=e(9),d=e(51),p=e(96),_=[0,1]},function(t,n,e){"use strict";var i=e(52);n.a=function(t){return t=Object(i.a)(Math.abs(t)),t?t[1]:NaN}},function(t,n,e){"use strict";function i(t){this._context=t}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}},n.a=function(t){return new i(t)}},function(t,n,e){"use strict";n.a=function(){}},function(t,n,e){"use strict";function i(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function r(t){this._context=t}n.c=i,n.a=r,r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:i(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:i(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},n.b=function(t){return new r(t)}},function(t,n,e){"use strict";function i(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function r(t,n){this._context=t,this._k=(1-n)/6}n.c=i,n.a=r,r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:i(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:i(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},n.b=function t(n){function e(t){return new r(t,n)}return e.tension=function(n){return t(+n)},e}(0)},function(t,n,e){"use strict";function i(t){return function(n,e){t(null==n?e:null)}}function r(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}var o=e(57),a=e(19);n.a=function(t,n){function e(t){var n,e=d.status;if(!e&&r(d)||e>=200&&e<300||304===e){if(c)try{n=c.call(u,d)}catch(t){return void f.call("error",u,t)}else n=d;f.call("load",u,n)}else f.call("error",u,t)}var u,s,c,l,f=Object(a.a)("beforesend","progress","load","error"),h=Object(o.a)(),d=new XMLHttpRequest,p=null,_=null,v=0;if("undefined"==typeof XDomainRequest||"withCredentials"in d||!/^(http(s)?:)?\/\//.test(t)||(d=new XDomainRequest),"onload"in d?d.onload=d.onerror=d.ontimeout=e:d.onreadystatechange=function(t){d.readyState>3&&e(t)},d.onprogress=function(t){f.call("progress",u,t)},u={header:function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?h.get(t):(null==n?h.remove(t):h.set(t,n+""),u)},mimeType:function(t){return arguments.length?(s=null==t?null:t+"",u):s},responseType:function(t){return arguments.length?(l=t,u):l},timeout:function(t){return arguments.length?(v=+t,u):v},user:function(t){return arguments.length<1?p:(p=null==t?null:t+"",u)},password:function(t){return arguments.length<1?_:(_=null==t?null:t+"",u)},response:function(t){return c=t,u},get:function(t,n){return u.send("GET",t,n)},post:function(t,n){return u.send("POST",t,n)},send:function(n,e,r){return d.open(n,t,!0,p,_),null==s||h.has("accept")||h.set("accept",s+",*/*"),d.setRequestHeader&&h.each(function(t,n){d.setRequestHeader(n,t)}),null!=s&&d.overrideMimeType&&d.overrideMimeType(s),null!=l&&(d.responseType=l),v>0&&(d.timeout=v),null==r&&"function"==typeof e&&(r=e,e=null),null!=r&&1===r.length&&(r=i(r)),null!=r&&u.on("error",r).on("load",function(t){r(null,t)}),f.call("beforesend",u,d),d.send(null==e?null:e),u},abort:function(){return d.abort(),u},on:function(){var t=f.on.apply(f,arguments);return t===f?u:t}},null!=n){if("function"!=typeof n)throw new Error("invalid callback: "+n);return u.get(n)}return u}},function(t,n,e){"use strict";function i(){}function r(t,n){var e=new i;if(t instanceof i)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,o=-1,a=t.length;if(null==n)for(;++o<a;)e.set(o,t[o]);else for(;++o<a;)e.set(n(r=t[o],o,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}e.d(n,"b",function(){return o});var o="$";i.prototype=r.prototype={constructor:i,has:function(t){return o+t in this},get:function(t){return this[o+t]},set:function(t,n){return this[o+t]=n,this},remove:function(t){var n=o+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===o&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===o&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===o&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===o&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===o&&++t;return t},empty:function(){for(var t in this)if(t[0]===o)return!1;return!0},each:function(t){for(var n in this)n[0]===o&&t(this[n],n.slice(1),this)}},n.a=r},function(t,n,e){"use strict";function i(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function r(t,n){var e=i(t);return function(i,r){return n(e(i),r,t)}}function o(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var i in t)i in n||e.push(n[i]=i)}),e}var a={},u={},s=34,c=10,l=13;n.a=function(t){function n(t,n){var o,a,u=e(t,function(t,e){if(o)return o(t,e-1);a=t,o=n?r(t,n):i(t)});return u.columns=a||[],u}function e(t,n){function e(){if(d)return u;if(p)return p=!1,a;var n,e,i=f;if(t.charCodeAt(i)===s){for(;f++<o&&t.charCodeAt(f)!==s||t.charCodeAt(++f)===s;);return(n=f)>=o?d=!0:(e=t.charCodeAt(f++))===c?p=!0:e===l&&(p=!0,t.charCodeAt(f)===c&&++f),t.slice(i+1,n-1).replace(/""/g,'"')}for(;f<o;){if((e=t.charCodeAt(n=f++))===c)p=!0;else if(e===l)p=!0,t.charCodeAt(f)===c&&++f;else if(e!==v)continue;return t.slice(i,n)}return d=!0,t.slice(i,o)}var i,r=[],o=t.length,f=0,h=0,d=o<=0,p=!1;for(t.charCodeAt(o-1)===c&&--o,t.charCodeAt(o-1)===l&&--o;(i=e())!==u;){for(var _=[];i!==a&&i!==u;)_.push(i),i=e();n&&null==(_=n(_,h++))||r.push(_)}return r}function f(n,e){return null==e&&(e=o(n)),[e.map(p).join(t)].concat(n.map(function(n){return e.map(function(t){return p(n[t])}).join(t)})).join("\n")}function h(t){return t.map(d).join("\n")}function d(n){return n.map(p).join(t)}function p(t){return null==t?"":_.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var _=new RegExp('["'+t+"\n\r]"),v=t.charCodeAt(0);return{parse:n,parseRows:e,format:f,formatRows:h}}},function(t,n,e){"use strict";var i=e(37);n.a=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),i.a.hasOwnProperty(n)?{space:i.a[n],local:t}:t}},function(t,n,e){"use strict";e.d(n,"b",function(){return i});var i="http://www.w3.org/1999/xhtml";n.a={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,n,e){"use strict";function i(){}n.a=function(t){return null==t?i:function(){return this.querySelector(t)}}},function(t,n,e){"use strict";n.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,n,e){"use strict";function i(t,n,e){return t=r(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function r(t,n,e){return function(i){var r=l;l=i;try{t.call(this,this.__data__,n,e)}finally{l=r}}}function o(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}function a(t){return function(){var n=this.__on;if(n){for(var e,i=0,r=-1,o=n.length;i<o;++i)e=n[i],t.type&&e.type!==t.type||e.name!==t.name?n[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?n.length=r:delete this.__on}}}function u(t,n,e){var o=c.hasOwnProperty(t.type)?i:r;return function(i,r,a){var u,s=this.__on,c=o(n,r,a);if(s)for(var l=0,f=s.length;l<f;++l)if((u=s[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),void(u.value=n);this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},s?s.push(u):this.__on=[u]}}function s(t,n,e,i){var r=l;t.sourceEvent=l,l=t;try{return n.apply(e,i)}finally{l=r}}e.d(n,"c",function(){return l}),n.a=s;var c={},l=null;if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(c={mouseenter:"mouseover",mouseleave:"mouseout"})}n.b=function(t,n,e){var i,r,s=o(t+""),c=s.length;{if(!(arguments.length<2)){for(l=n?u:a,null==e&&(e=!1),i=0;i<c;++i)this.each(l(s[i],n,e));return this}var l=this.node().__on;if(l)for(var f,h=0,d=l.length;h<d;++h)for(i=0,f=l[h];i<c;++i)if((r=s[i]).type===f.type&&r.name===f.name)return f.value}}},function(t,n,e){"use strict";var i=e(40);n.a=function(){for(var t,n=i.c;t=n.sourceEvent;)n=t;return n}},function(t,n,e){"use strict";var i=e(8),r=e(70),o=e(73),a=e(74),u=e(23),s=e(75),c=e(76),l=e(72);n.a=function(t,n){var e,f=typeof n;return null==n||"boolean"===f?Object(l.a)(n):("number"===f?u.a:"string"===f?(e=Object(i.a)(n))?(n=e,r.a):c.a:n instanceof i.a?r.a:n instanceof Date?a.a:Array.isArray(n)?o.a:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?s.a:u.a)(t,n)}},function(t,n,e){"use strict";function i(){}function r(t){var n;return t=(t+"").trim().toLowerCase(),(n=x.exec(t))?(n=parseInt(n[1],16),new c(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1)):(n=w.exec(t))?o(parseInt(n[1],16)):(n=O.exec(t))?new c(n[1],n[2],n[3],1):(n=j.exec(t))?new c(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=M.exec(t))?a(n[1],n[2],n[3],n[4]):(n=k.exec(t))?a(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=A.exec(t))?l(n[1],n[2]/100,n[3]/100,1):(n=T.exec(t))?l(n[1],n[2]/100,n[3]/100,n[4]):S.hasOwnProperty(t)?o(S[t]):"transparent"===t?new c(NaN,NaN,NaN,0):null}function o(t){return new c(t>>16&255,t>>8&255,255&t,1)}function a(t,n,e,i){return i<=0&&(t=n=e=NaN),new c(t,n,e,i)}function u(t){return t instanceof i||(t=r(t)),t?(t=t.rgb(),new c(t.r,t.g,t.b,t.opacity)):new c}function s(t,n,e,i){return 1===arguments.length?u(t):new c(t,n,e,null==i?1:i)}function c(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}function l(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new d(t,n,e,i)}function f(t){if(t instanceof d)return new d(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=r(t)),!t)return new d;if(t instanceof d)return t;t=t.rgb();var n=t.r/255,e=t.g/255,o=t.b/255,a=Math.min(n,e,o),u=Math.max(n,e,o),s=NaN,c=u-a,l=(u+a)/2;return c?(s=n===u?(e-o)/c+6*(e<o):e===u?(o-n)/c+2:(n-e)/c+4,c/=l<.5?u+a:2-u-a,s*=60):c=l>0&&l<1?0:s,new d(s,c,l,t.opacity)}function h(t,n,e,i){return 1===arguments.length?f(t):new d(t,n,e,null==i?1:i)}function d(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}function p(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}n.a=i,e.d(n,"d",function(){return v}),e.d(n,"c",function(){return m}),n.e=r,n.h=u,n.g=s,n.b=c,n.f=h;var _=e(44),v=.7,m=1/v,g="\\s*([+-]?\\d+)\\s*",y="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",b="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",x=/^#([0-9a-f]{3})$/,w=/^#([0-9a-f]{6})$/,O=new RegExp("^rgb\\("+[g,g,g]+"\\)$"),j=new RegExp("^rgb\\("+[b,b,b]+"\\)$"),M=new RegExp("^rgba\\("+[g,g,g,y]+"\\)$"),k=new RegExp("^rgba\\("+[b,b,b,y]+"\\)$"),A=new RegExp("^hsl\\("+[y,b,b]+"\\)$"),T=new RegExp("^hsla\\("+[y,b,b,y]+"\\)$"),S={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object(_.a)(i,r,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Object(_.a)(c,s,Object(_.b)(i,{brighter:function(t){return t=null==t?m:Math.pow(m,t),new c(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?v:Math.pow(v,t),new c(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Object(_.a)(d,h,Object(_.b)(i,{brighter:function(t){return t=null==t?m:Math.pow(m,t),new d(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?v:Math.pow(v,t),new d(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,r=2*e-i;return new c(p(t>=240?t-240:t+120,r,i),p(t,r,i),p(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(t,n,e){"use strict";function i(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}n.b=i,n.a=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t}},function(t,n,e){"use strict";function i(t,n,e,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*i+a*r)/6}n.a=i,n.b=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),o=t[r],a=t[r+1],u=r>0?t[r-1]:2*o-a,s=r<n-1?t[r+2]:2*a-o;return i((e-r/n)*n,u,o,a,s)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(47);e.d(n,"now",function(){return i.b}),e.d(n,"timer",function(){return i.c}),e.d(n,"timerFlush",function(){return i.d});var r=e(195);e.d(n,"timeout",function(){return r.a});var o=e(196);e.d(n,"interval",function(){return o.a})},function(t,n,e){"use strict";function i(){return y||(w(r),y=x.now()+b)}function r(){y=0}function o(){this._call=this._time=this._next=null}function a(t,n,e){var i=new o;return i.restart(t,n,e),i}function u(){i(),++p;for(var t,n=h;n;)(t=y-n._time)>=0&&n._call.call(null,t),n=n._next;--p}function s(){y=(g=x.now())+b,p=_=0;try{u()}finally{p=0,l(),y=0}}function c(){var t=x.now(),n=t-g;n>m&&(b-=n,g=t)}function l(){for(var t,n,e=h,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:h=n);d=t,f(i)}function f(t){if(!p){_&&(_=clearTimeout(_));t-y>24?(t<1/0&&(_=setTimeout(s,t-x.now()-b)),v&&(v=clearInterval(v))):(v||(g=x.now(),v=setInterval(c,m)),p=1,w(s))}}n.b=i,n.a=o,n.c=a,n.d=u;var h,d,p=0,_=0,v=0,m=1e3,g=0,y=0,b=0,x="object"==typeof performance&&performance.now?performance:Date,w="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};o.prototype=a.prototype={constructor:o,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?i():+e)+(null==n?0:+n),this._next||d===this||(d?d._next=this:h=this,d=this),this._call=t,this._time=e,f()},stop:function(){this._call&&(this._call=null,this._time=1/0,f())}}},function(t,n,e){"use strict";function i(t){return r=Object(c.a)(t),o=r.format,a=r.parse,u=r.utcFormat,s=r.utcParse,r}e.d(n,"b",function(){return o}),e.d(n,"c",function(){return a}),e.d(n,"d",function(){return u}),e.d(n,"e",function(){return s}),n.a=i;var r,o,a,u,s,c=e(80);i({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),o=function(){function t(n,e){i(this,t),this.x=n,this.y=e}return r(t,null,[{key:"centroid",value:function(n){var e=0,i=0,r=!0,o=!1,a=void 0;try{for(var u,s=n[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var c=u.value;e+=c.x,i+=c.y}}catch(t){o=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return new t(e/n.length,i/n.length)}}]),t}();n.default=o},function(t,n,e){"use strict";var i=e(13);n.a=function(t,n,e){if(null==e&&(e=i.a),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,o=(r-1)*n,a=Math.floor(o),u=+e(t[a],a,t);return u+(+e(t[a+1],a+1,t)-u)*(o-a)}}},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";n.a=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,i=t.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+t.slice(e+1)]}},function(t,n,e){"use strict";var i=e(15),r=e(10),o=e(29),a=e(54);n.a=function(){function t(t){var r,o,a,f=t.length,h=!1;for(null==s&&(l=c(a=Object(i.a)())),r=0;r<=f;++r)!(r<f&&u(o=t[r],r,t))===h&&((h=!h)?l.lineStart():l.lineEnd()),h&&l.point(+n(o,r,t),+e(o,r,t));if(a)return l=null,a+""||null}var n=a.a,e=a.b,u=Object(r.a)(!0),s=null,c=o.a,l=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:Object(r.a)(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:Object(r.a)(+n),t):e},t.defined=function(n){return arguments.length?(u="function"==typeof n?n:Object(r.a)(!!n),t):u},t.curve=function(n){return arguments.length?(c=n,null!=s&&(l=c(s)),t):c},t.context=function(n){return arguments.length?(null==n?s=l=null:l=c(s=n),t):s},t}},function(t,n,e){"use strict";function i(t){return t[0]}function r(t){return t[1]}n.a=i,n.b=r},function(t,n,e){"use strict";function i(t,n,e){var i=t._x1,r=t._y1,a=t._x2,u=t._y2;if(t._l01_a>o.f){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>o.f){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-n*t._l12_2a)/f,u=(u*l+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(i,r,a,u,t._x2,t._y2)}function r(t,n){this._context=t,this._alpha=n}n.b=i;var o=e(16),a=e(32);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:i(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},n.a=function t(n){function e(t){return n?new r(t,n):new a.a(t,0)}return e.alpha=function(n){return t(+n)},e}(.5)},function(t,n,e){"use strict";function i(t){for(var n,e=0,i=-1,r=t.length;++i<r;)(n=+t[i][1])&&(e+=n);return e}n.b=i;var r=e(18);n.a=function(t){var n=t.map(i);return Object(r.a)(t).sort(function(t,e){return n[t]-n[e]})}},function(t,n,e){"use strict";var i=(e(124),e(125),e(34));e.d(n,"a",function(){return i.a});e(126),e(127),e(128)},function(t,n,e){"use strict";var i=(e(35),e(135));e.d(n,"a",function(){return i.a});var r=e(136);e.d(n,"b",function(){return r.a})},function(t,n,e){"use strict";function i(t,n){return function(e){return t(e.responseText,n)}}var r=e(33);n.a=function(t,n){return function(e,o,a){arguments.length<3&&(a=o,o=null);var u=Object(r.a)(e).mimeType(t);return u.row=function(t){return arguments.length?u.response(i(n,o=t)):o},u.row(o),a?u.get(a):u}}},function(t,n,e){var i,r;!function(o,a){"use strict";i=a,void 0!==(r="function"==typeof i?i.call(n,e,n,t):i)&&(t.exports=r)}(0,function(){"use strict";function t(t,n){var e=t[n];if("function"==typeof e.bind)return e.bind(t);try{return Function.prototype.bind.call(e,t)}catch(n){return function(){return Function.prototype.apply.apply(e,[t,arguments])}}}function n(n){return"debug"===n&&(n="log"),typeof console!==u&&(void 0!==console[n]?t(console,n):void 0!==console.log?t(console,"log"):a)}function e(t,n){for(var e=0;e<s.length;e++){var i=s[e];this[i]=e<t?a:this.methodFactory(i,t,n)}this.log=this.debug}function i(t,n,i){return function(){typeof console!==u&&(e.call(this,n,i),this[t].apply(this,arguments))}}function r(t,e,r){return n(t)||i.apply(this,arguments)}function o(t,n,i){function o(t){var n=(s[t]||"silent").toUpperCase();if(typeof window!==u){try{return void(window.localStorage[f]=n)}catch(t){}try{window.document.cookie=encodeURIComponent(f)+"="+n+";"}catch(t){}}}function a(){var t;if(typeof window!==u){try{t=window.localStorage[f]}catch(t){}if(typeof t===u)try{var n=window.document.cookie,e=n.indexOf(encodeURIComponent(f)+"=");-1!==e&&(t=/^([^;]+)/.exec(n.slice(e))[1])}catch(t){}return void 0===l.levels[t]&&(t=void 0),t}}var c,l=this,f="loglevel";t&&(f+=":"+t),l.name=t,l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},l.methodFactory=i||r,l.getLevel=function(){return c},l.setLevel=function(n,i){if("string"==typeof n&&void 0!==l.levels[n.toUpperCase()]&&(n=l.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=l.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(c=n,!1!==i&&o(n),e.call(l,n,t),typeof console===u&&n<l.levels.SILENT)return"No console available for logging"},l.setDefaultLevel=function(t){a()||l.setLevel(t,!1)},l.enableAll=function(t){l.setLevel(l.levels.TRACE,t)},l.disableAll=function(t){l.setLevel(l.levels.SILENT,t)};var h=a();null==h&&(h=null==n?"WARN":n),l.setLevel(h,!1)}var a=function(){},u="undefined",s=["trace","debug","info","warn","error"],c=new o,l={};c.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var n=l[t];return n||(n=l[t]=new o(t,c.getLevel(),c.methodFactory)),n};var f=typeof window!==u?window.log:void 0;return c.noConflict=function(){return typeof window!==u&&window.log===c&&(window.log=f),c},c.getLoggers=function(){return l},c})},function(t,n,e){"use strict";var i=e(2);n.a=function(t){return"string"==typeof t?new i.a([[document.querySelector(t)]],[document.documentElement]):new i.a([[t]],i.c)}},function(t,n,e){"use strict";function i(){return[]}n.a=function(t){return null==t?i:function(){return this.querySelectorAll(t)}}},function(t,n,e){"use strict";var i=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var r=document.documentElement;if(!r.matches){var o=r.webkitMatchesSelector||r.msMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector;i=function(t){return function(){return o.call(this,t)}}}}n.a=i},function(t,n,e){"use strict";function i(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}n.a=i;var r=e(65),o=e(2);n.b=function(){return new o.a(this._enter||this._groups.map(r.a),this._parents)},i.prototype={constructor:i,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},function(t,n,e){"use strict";n.a=function(t){return new Array(t.length)}},function(t,n,e){"use strict";function i(t){return function(){this.style.removeProperty(t)}}function r(t,n,e){return function(){this.style.setProperty(t,n,e)}}function o(t,n,e){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function a(t,n){return t.style.getPropertyValue(n)||Object(u.a)(t).getComputedStyle(t,null).getPropertyValue(n)}n.b=a;var u=e(39);n.a=function(t,n,e){return arguments.length>1?this.each((null==n?i:"function"==typeof n?o:r)(t,n,null==e?"":e)):a(this.node(),t)}},function(t,n,e){"use strict";function i(t,n){var e=t.document.documentElement,i=Object(r.select)(t).on("dragstart.drag",null);n&&(i.on("click.drag",o.a,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}n.b=i;var r=e(0),o=e(68);n.a=function(t){var n=t.document.documentElement,e=Object(r.select)(t).on("dragstart.drag",o.a,!0);"onselectstart"in n?e.on("selectstart.drag",o.a,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}},function(t,n,e){"use strict";function i(){r.event.stopImmediatePropagation()}n.b=i;var r=e(0);n.a=function(){r.event.preventDefault(),r.event.stopImmediatePropagation()}},function(t,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"b",function(){return r});var i=Math.PI/180,r=180/Math.PI},function(t,n,e){"use strict";function i(t){return function(n){var e,i,o=n.length,a=new Array(o),u=new Array(o),s=new Array(o);for(e=0;e<o;++e)i=Object(r.f)(n[e]),a[e]=i.r||0,u[e]=i.g||0,s[e]=i.b||0;return a=t(a),u=t(u),s=t(s),i.opacity=1,function(t){return i.r=a(t),i.g=u(t),i.b=s(t),i+""}}}var r=e(8),o=e(45),a=e(71),u=e(12);n.a=function t(n){function e(t,n){var e=i((t=Object(r.f)(t)).r,(n=Object(r.f)(n)).r),o=i(t.g,n.g),a=i(t.b,n.b),s=Object(u.a)(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=o(n),t.b=a(n),t.opacity=s(n),t+""}}var i=Object(u.b)(n);return e.gamma=t,e}(1);i(o.b),i(a.a)},function(t,n,e){"use strict";var i=e(45);n.a=function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),o=t[(r+n-1)%n],a=t[r%n],u=t[(r+1)%n],s=t[(r+2)%n];return Object(i.a)((e-r/n)*n,o,a,u,s)}}},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";var i=e(42);n.a=function(t,n){var e,r=n?n.length:0,o=t?Math.min(r,t.length):0,a=new Array(o),u=new Array(r);for(e=0;e<o;++e)a[e]=Object(i.a)(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<o;++e)u[e]=a[e](t);return u}}},function(t,n,e){"use strict";n.a=function(t,n){var e=new Date;return t=+t,n-=t,function(i){return e.setTime(t+n*i),e}}},function(t,n,e){"use strict";var i=e(42);n.a=function(t,n){var e,r={},o={};null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={});for(e in n)e in t?r[e]=Object(i.a)(t[e],n[e]):o[e]=n[e];return function(t){for(e in r)o[e]=r[e](t);return o}}},function(t,n,e){"use strict";function i(t){return function(){return t}}function r(t){return function(n){return t(n)+""}}var o=e(23),a=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,u=new RegExp(a.source,"g");n.a=function(t,n){var e,s,c,l=a.lastIndex=u.lastIndex=0,f=-1,h=[],d=[];for(t+="",n+="";(e=a.exec(t))&&(s=u.exec(n));)(c=s.index)>l&&(c=n.slice(l,c),h[f]?h[f]+=c:h[++f]=c),(e=e[0])===(s=s[0])?h[f]?h[f]+=s:h[++f]=s:(h[++f]=null,d.push({i:f,x:Object(o.a)(e,s)})),l=u.lastIndex;return l<n.length&&(c=n.slice(l),h[f]?h[f]+=c:h[++f]=c),h.length<2?d[0]?r(d[0].x):i(n):(n=d.length,function(t){for(var e,i=0;i<n;++i)h[(e=d[i]).i]=e.x(t);return h.join("")})}},function(t,n,e){"use strict";var i=e(3);n.a=function(t,n){var e,r,o,a=t.__transition,u=!0;if(a){n=null==n?null:n+"";for(o in a)(e=a[o]).name===n?(r=e.state>i.d&&e.state<i.b,e.state=i.a,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete a[o]):u=!1;u&&delete t.__transition}}},function(t,n,e){"use strict";var i=e(8),r=e(7);n.a=function(t,n){var e;return("number"==typeof n?r.b:n instanceof i.a?r.c:(e=Object(i.a)(n))?(n=e,r.c):r.e)(t,n)}},function(t,n,e){"use strict";function i(t,n,e){this.k=t,this.x=n,this.y=e}function r(t){return t.__zoom||o}n.a=i,e.d(n,"c",function(){return o}),n.b=r,i.prototype={constructor:i,scale:function(t){return 1===t?this:new i(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new i(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var o=new i(1,0,0);r.prototype=i.prototype},function(t,n,e){"use strict";function i(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function o(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function a(t){function n(t,n){return function(e){var i,r,o,a=[],u=-1,s=0,c=t.length;for(e instanceof Date||(e=new Date(+e));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(r=pt[i=t.charAt(++u)])?i=t.charAt(++u):r="e"===i?" ":"0",(o=n[i])&&(i=o(e,r)),a.push(i),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function e(t,n){return function(e){var i,u,s=o(1900),c=a(s,t,e+="",0);if(c!=e.length)return null;if("Q"in s)return new Date(s.Q);if("p"in s&&(s.H=s.H%12+12*s.p),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(i=r(o(s.y)),u=i.getUTCDay(),i=u>4||0===u?dt.utcMonday.ceil(i):Object(dt.utcMonday)(i),i=dt.utcDay.offset(i,7*(s.V-1)),s.y=i.getUTCFullYear(),s.m=i.getUTCMonth(),s.d=i.getUTCDate()+(s.w+6)%7):(i=n(o(s.y)),u=i.getDay(),i=u>4||0===u?dt.timeMonday.ceil(i):Object(dt.timeMonday)(i),i=dt.timeDay.offset(i,7*(s.V-1)),s.y=i.getFullYear(),s.m=i.getMonth(),s.d=i.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),u="Z"in s?r(o(s.y)).getUTCDay():n(o(s.y)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(u+5)%7:s.w+7*s.U-(u+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,r(s)):n(s)}}function a(t,n,e,i){for(var r,o,a=0,u=n.length,s=e.length;a<u;){if(i>=s)return-1;if(37===(r=n.charCodeAt(a++))){if(r=n.charAt(a++),!(o=Kt[r in pt?n.charAt(a++):r])||(i=o(t,e,i))<0)return-1}else if(r!=e.charCodeAt(i++))return-1}return i}function u(t,n,e){var i=zt.exec(n.slice(e));return i?(t.p=Bt[i[0].toLowerCase()],e+i[0].length):-1}function s(t,n,e){var i=Yt.exec(n.slice(e));return i?(t.w=Vt[i[0].toLowerCase()],e+i[0].length):-1}function _t(t,n,e){var i=Ut.exec(n.slice(e));return i?(t.w=It[i[0].toLowerCase()],e+i[0].length):-1}function vt(t,n,e){var i=qt.exec(n.slice(e));return i?(t.m=Wt[i[0].toLowerCase()],e+i[0].length):-1}function mt(t,n,e){var i=Xt.exec(n.slice(e));return i?(t.m=Gt[i[0].toLowerCase()],e+i[0].length):-1}function gt(t,n,e){return a(t,Et,n,e)}function yt(t,n,e){return a(t,Nt,n,e)}function bt(t,n,e){return a(t,Pt,n,e)}function xt(t){return Rt[t.getDay()]}function wt(t){return Lt[t.getDay()]}function Ot(t){return Ft[t.getMonth()]}function jt(t){return Ht[t.getMonth()]}function Mt(t){return Dt[+(t.getHours()>=12)]}function kt(t){return Rt[t.getUTCDay()]}function At(t){return Lt[t.getUTCDay()]}function Tt(t){return Ft[t.getUTCMonth()]}function St(t){return Ht[t.getUTCMonth()]}function Ct(t){return Dt[+(t.getUTCHours()>=12)]}var Et=t.dateTime,Nt=t.date,Pt=t.time,Dt=t.periods,Lt=t.days,Rt=t.shortDays,Ht=t.months,Ft=t.shortMonths,zt=c(Dt),Bt=l(Dt),Ut=c(Lt),It=l(Lt),Yt=c(Rt),Vt=l(Rt),Xt=c(Ht),Gt=l(Ht),qt=c(Ft),Wt=l(Ft),Jt={a:xt,A:wt,b:Ot,B:jt,c:null,d:C,e:C,f:L,H:E,I:N,j:P,L:D,m:R,M:H,p:Mt,Q:ft,s:ht,S:F,u:z,U:B,V:U,w:I,W:Y,x:null,X:null,y:V,Y:X,Z:G,"%":lt},Qt={a:kt,A:At,b:Tt,B:St,c:null,d:q,e:q,f:Z,H:W,I:J,j:Q,L:K,m:$,M:tt,p:Ct,Q:ft,s:ht,S:nt,u:et,U:it,V:rt,w:ot,W:at,x:null,X:null,y:ut,Y:st,Z:ct,"%":lt},Kt={a:s,A:_t,b:vt,B:mt,c:gt,d:b,e:b,f:k,H:w,I:w,j:x,L:M,m:y,M:O,p:u,Q:T,s:S,S:j,u:h,U:d,V:p,w:f,W:_,x:yt,X:bt,y:m,Y:v,Z:g,"%":A};return Jt.x=n(Nt,Jt),Jt.X=n(Pt,Jt),Jt.c=n(Et,Jt),Qt.x=n(Nt,Qt),Qt.X=n(Pt,Qt),Qt.c=n(Et,Qt),{format:function(t){var e=n(t+="",Jt);return e.toString=function(){return t},e},parse:function(t){var n=e(t+="",i);return n.toString=function(){return t},n},utcFormat:function(t){var e=n(t+="",Qt);return e.toString=function(){return t},e},utcParse:function(t){var n=e(t,r);return n.toString=function(){return t},n}}}function u(t,n,e){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<e?new Array(e-o+1).join(n)+r:r)}function s(t){return t.replace(mt,"\\$&")}function c(t){return new RegExp("^(?:"+t.map(s).join("|")+")","i")}function l(t){for(var n={},e=-1,i=t.length;++e<i;)n[t[e].toLowerCase()]=e;return n}function f(t,n,e){var i=_t.exec(n.slice(e,e+1));return i?(t.w=+i[0],e+i[0].length):-1}function h(t,n,e){var i=_t.exec(n.slice(e,e+1));return i?(t.u=+i[0],e+i[0].length):-1}function d(t,n,e){var i=_t.exec(n.slice(e,e+2));return i?(t.U=+i[0],e+i[0].length):-1}function p(t,n,e){var i=_t.exec(n.slice(e,e+2));return i?(t.V=+i[0],e+i[0].length):-1}function _(t,n,e){var i=_t.exec(n.slice(e,e+2));return i?(t.W=+i[0],e+i[0].length):-1}function v(t,n,e){var i=_t.exec(n.slice(e,e+4));return i?(t.y=+i[0],e+i[0].length):-1}function m(t,n,e){var i=_t.exec(n.slice(e,e+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function g(t,n,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function y(t,n,e){var i=_t.exec(n.slice(e,e+2));return i?(t.m=i[0]-1,e+i[0].length):-1}function b(t,n,e){var i=_t.exec(n.slice(e,e+2));return i?(t.d=+i[0],e+i[0].length):-1}function x(t,n,e){var i=_t.exec(n.slice(e,e+3));return i?(t.m=0,t.d=+i[0],e+i[0].length):-1}function w(t,n,e){var i=_t.exec(n.slice(e,e+2));return i?(t.H=+i[0],e+i[0].length):-1}function O(t,n,e){var i=_t.exec(n.slice(e,e+2));return i?(t.M=+i[0],e+i[0].length):-1}function j(t,n,e){var i=_t.exec(n.slice(e,e+2));return i?(t.S=+i[0],e+i[0].length):-1}function M(t,n,e){var i=_t.exec(n.slice(e,e+3));return i?(t.L=+i[0],e+i[0].length):-1}function k(t,n,e){var i=_t.exec(n.slice(e,e+6));return i?(t.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function A(t,n,e){var i=vt.exec(n.slice(e,e+1));return i?e+i[0].length:-1}function T(t,n,e){var i=_t.exec(n.slice(e));return i?(t.Q=+i[0],e+i[0].length):-1}function S(t,n,e){var i=_t.exec(n.slice(e));return i?(t.Q=1e3*+i[0],e+i[0].length):-1}function C(t,n){return u(t.getDate(),n,2)}function E(t,n){return u(t.getHours(),n,2)}function N(t,n){return u(t.getHours()%12||12,n,2)}function P(t,n){return u(1+dt.timeDay.count(Object(dt.timeYear)(t),t),n,3)}function D(t,n){return u(t.getMilliseconds(),n,3)}function L(t,n){return D(t,n)+"000"}function R(t,n){return u(t.getMonth()+1,n,2)}function H(t,n){return u(t.getMinutes(),n,2)}function F(t,n){return u(t.getSeconds(),n,2)}function z(t){var n=t.getDay();return 0===n?7:n}function B(t,n){return u(dt.timeSunday.count(Object(dt.timeYear)(t),t),n,2)}function U(t,n){var e=t.getDay();return t=e>=4||0===e?Object(dt.timeThursday)(t):dt.timeThursday.ceil(t),u(dt.timeThursday.count(Object(dt.timeYear)(t),t)+(4===Object(dt.timeYear)(t).getDay()),n,2)}function I(t){return t.getDay()}function Y(t,n){return u(dt.timeMonday.count(Object(dt.timeYear)(t),t),n,2)}function V(t,n){return u(t.getFullYear()%100,n,2)}function X(t,n){return u(t.getFullYear()%1e4,n,4)}function G(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+u(n/60|0,"0",2)+u(n%60,"0",2)}function q(t,n){return u(t.getUTCDate(),n,2)}function W(t,n){return u(t.getUTCHours(),n,2)}function J(t,n){return u(t.getUTCHours()%12||12,n,2)}function Q(t,n){return u(1+dt.utcDay.count(Object(dt.utcYear)(t),t),n,3)}function K(t,n){return u(t.getUTCMilliseconds(),n,3)}function Z(t,n){return K(t,n)+"000"}function $(t,n){return u(t.getUTCMonth()+1,n,2)}function tt(t,n){return u(t.getUTCMinutes(),n,2)}function nt(t,n){return u(t.getUTCSeconds(),n,2)}function et(t){var n=t.getUTCDay();return 0===n?7:n}function it(t,n){return u(dt.utcSunday.count(Object(dt.utcYear)(t),t),n,2)}function rt(t,n){var e=t.getUTCDay();return t=e>=4||0===e?Object(dt.utcThursday)(t):dt.utcThursday.ceil(t),u(dt.utcThursday.count(Object(dt.utcYear)(t),t)+(4===Object(dt.utcYear)(t).getUTCDay()),n,2)}function ot(t){return t.getUTCDay()}function at(t,n){return u(dt.utcMonday.count(Object(dt.utcYear)(t),t),n,2)}function ut(t,n){return u(t.getUTCFullYear()%100,n,2)}function st(t,n){return u(t.getUTCFullYear()%1e4,n,4)}function ct(){return"+0000"}function lt(){return"%"}function ft(t){return+t}function ht(t){return Math.floor(+t/1e3)}n.a=a;var dt=e(26),pt={"-":"",_:" ",0:"0"},_t=/^\s*\d+/,vt=/^%/,mt=/[\\^$*+?|[\]().{}]/g},function(t,n,e){"use strict";function i(t){return t.toISOString()}e.d(n,"b",function(){return o});var r=e(48),o="%Y-%m-%dT%H:%M:%S.%LZ",a=Date.prototype.toISOString?i:Object(r.d)(o);n.a=a},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),o=e(49),a=function(t){return t&&t.__esModule?t:{default:t}}(o),u=function(){function t(n,e){i(this,t),this.pointA=n,this.pointB=e}return r(t,[{key:"getPointByPercentage",value:function(t){return new a.default(this.pointA.x+(this.pointB.x-this.pointA.x)*t,this.pointA.y+(this.pointB.y-this.pointA.y)*t)}},{key:"getLength",value:function(){return Math.sqrt(Math.pow(this.pointA.x-this.pointB.x,2)+Math.pow(this.pointA.y-this.pointB.y,2))}}]),t}();n.default=u},function(t,n,e){"use strict";var i=e(11),r=e(84),o=Object(r.a)(i.a),a=o.right;o.left;n.a=a},function(t,n,e){"use strict";function i(t){return function(n,e){return Object(r.a)(t(n),e)}}var r=e(11);n.a=function(t){return 1===t.length&&(t=i(t)),{left:function(n,e,i,r){for(null==i&&(i=0),null==r&&(r=n.length);i<r;){var o=i+r>>>1;t(n[o],e)<0?i=o+1:r=o}return i},right:function(n,e,i,r){for(null==i&&(i=0),null==r&&(r=n.length);i<r;){var o=i+r>>>1;t(n[o],e)>0?r=o:i=o+1}return i}}}},function(t,n,e){"use strict";function i(t,n){return[t,n]}n.a=i},function(t,n,e){"use strict";var i=e(87);n.a=function(t,n){var e=Object(i.a)(t,n);return e?Math.sqrt(e):e}},function(t,n,e){"use strict";var i=e(13);n.a=function(t,n){var e,r,o=t.length,a=0,u=-1,s=0,c=0;if(null==n)for(;++u<o;)isNaN(e=Object(i.a)(t[u]))||(r=e-s,s+=r/++a,c+=r*(e-s));else for(;++u<o;)isNaN(e=Object(i.a)(n(t[u],u,t)))||(r=e-s,s+=r/++a,c+=r*(e-s));if(a>1)return c/(a-1)}},function(t,n,e){"use strict";n.a=function(t,n){var e,i,r,o=t.length,a=-1;if(null==n){for(;++a<o;)if(null!=(e=t[a])&&e>=e)for(i=r=e;++a<o;)null!=(e=t[a])&&(i>e&&(i=e),r<e&&(r=e))}else for(;++a<o;)if(null!=(e=n(t[a],a,t))&&e>=e)for(i=r=e;++a<o;)null!=(e=n(t[a],a,t))&&(i>e&&(i=e),r<e&&(r=e));return[i,r]}},function(t,n,e){"use strict";e.d(n,"b",function(){return r}),e.d(n,"a",function(){return o});var i=Array.prototype,r=i.slice,o=i.map},function(t,n,e){"use strict";n.a=function(t,n,e){t=+t,n=+n,e=(r=arguments.length)<2?(n=t,t=0,1):r<3?1:+e;for(var i=-1,r=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(r);++i<r;)o[i]=t+i*e;return o}},function(t,n,e){"use strict";function i(t,n,e){var i=(n-t)/Math.max(0,e),r=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,r);return r>=0?(s>=o?10:s>=a?5:s>=u?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(s>=o?10:s>=a?5:s>=u?2:1)}function r(t,n,e){var i=Math.abs(n-t)/Math.max(0,e),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/r;return s>=o?r*=10:s>=a?r*=5:s>=u&&(r*=2),n<t?-r:r}n.b=i,n.c=r;var o=Math.sqrt(50),a=Math.sqrt(10),u=Math.sqrt(2);n.a=function(t,n,e){var r,o,a,u,s=-1;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(o=t,t=n,n=o),0===(u=i(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),a=new Array(o=Math.ceil(n-t+1));++s<o;)a[s]=(t+s)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),a=new Array(o=Math.ceil(t-n+1));++s<o;)a[s]=(t-s)/u;return r&&a.reverse(),a}},function(t,n,e){"use strict";n.a=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}},function(t,n,e){"use strict";n.a=function(t,n){var e,i,r=t.length,o=-1;if(null==n){for(;++o<r;)if(null!=(e=t[o])&&e>=e)for(i=e;++o<r;)null!=(e=t[o])&&i>e&&(i=e)}else for(;++o<r;)if(null!=(e=n(t[o],o,t))&&e>=e)for(i=e;++o<r;)null!=(e=n(t[o],o,t))&&i>e&&(i=e);return i}},function(t,n,e){"use strict";function i(t){return t.length}var r=e(93);n.a=function(t){if(!(a=t.length))return[];for(var n=-1,e=Object(r.a)(t,i),o=new Array(e);++n<e;)for(var a,u=-1,s=o[n]=new Array(a);++u<a;)s[u]=t[u][n];return o}},function(t,n,e){"use strict";function i(t){function n(n){var i=n+"",r=e.get(i);if(!r){if(s!==a)return s;e.set(i,r=u.push(n))}return t[(r-1)%t.length]}var e=Object(r.a)(),u=[],s=a;return t=null==t?[]:o.b.call(t),n.domain=function(t){if(!arguments.length)return u.slice();u=[],e=Object(r.a)();for(var i,o,a=-1,s=t.length;++a<s;)e.has(o=(i=t[a])+"")||e.set(o,u.push(i));return n},n.range=function(e){return arguments.length?(t=o.b.call(e),n):t.slice()},n.unknown=function(t){return arguments.length?(s=t,n):s},n.copy=function(){return i().domain(u).range(t).unknown(s)},n}e.d(n,"b",function(){return a}),n.a=i;var r=e(57),o=e(9),a={name:"implicit"}},function(t,n,e){"use strict";n.a=function(t){return+t}},function(t,n,e){"use strict";var i=e(267);e.d(n,"a",function(){return i.a}),e.d(n,"b",function(){return i.b});var r=(e(98),e(99));e.d(n,"c",function(){return r.a});var o=e(273);e.d(n,"d",function(){return o.a});var a=e(274);e.d(n,"e",function(){return a.a});var u=e(275);e.d(n,"f",function(){return u.a})},function(t,n,e){"use strict";var i=e(28),r=e(268),o=e(269),a=e(99),u=e(100),s=e(101),c=e(272),l=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];n.a=function(t){function n(t){function n(t){var n,o,a,u=b,h=x;if("c"===y)h=w(t)+h,t="";else{t=+t;var _=t<0;if(t=w(Math.abs(t),g),_&&0==+t&&(_=!1),u=(_?"("===r?r:"-":"-"===r||"("===r?"":r)+u,h=("s"===y?l[8+s.b/3]:"")+h+(_&&"("===r?")":""),O)for(n=-1,o=t.length;++n<o;)if(48>(a=t.charCodeAt(n))||a>57){h=(46===a?d+t.slice(n+1):t.slice(n))+h,t=t.slice(0,n);break}}m&&!c&&(t=f(t,1/0));var j=u.length+t.length+h.length,M=j<v?new Array(v-j+1).join(e):"";switch(m&&c&&(t=f(M+t,M.length?v-h.length:1/0),M=""),i){case"<":t=u+t+h+M;break;case"=":t=u+M+t+h;break;case"^":t=M.slice(0,j=M.length>>1)+u+t+h+M.slice(j);break;default:t=M+u+t+h}return p(t)}t=Object(a.a)(t);var e=t.fill,i=t.align,r=t.sign,o=t.symbol,c=t.zero,v=t.width,m=t.comma,g=t.precision,y=t.type,b="$"===o?h[0]:"#"===o&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===o?h[1]:/[%p]/.test(y)?_:"",w=u.a[y],O=!y||/[defgprs%]/.test(y);return g=null==g?y?6:12:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),n.toString=function(){return t+""},n}function e(t,e){var r=n((t=Object(a.a)(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(Object(i.a)(e)/3))),u=Math.pow(10,-o),s=l[8+o/3];return function(t){return r(u*t)+s}}var f=t.grouping&&t.thousands?Object(r.a)(t.grouping,t.thousands):c.a,h=t.currency,d=t.decimal,p=t.numerals?Object(o.a)(t.numerals):c.a,_=t.percent||"%";return{format:n,formatPrefix:e}}},function(t,n,e){"use strict";function i(t){return new r(t)}function r(t){if(!(n=a.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",i=n[2]||">",r=n[3]||"-",u=n[4]||"",s=!!n[5],c=n[6]&&+n[6],l=!!n[7],f=n[8]&&+n[8].slice(1),h=n[9]||"";"n"===h?(l=!0,h="g"):o.a[h]||(h=""),(s||"0"===e&&"="===i)&&(s=!0,e="0",i="="),this.fill=e,this.align=i,this.sign=r,this.symbol=u,this.zero=s,this.width=c,this.comma=l,this.precision=f,this.type=h}n.a=i;var o=e(100),a=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;i.prototype=r.prototype,r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type}},function(t,n,e){"use strict";var i=e(270),r=e(101),o=e(271);n.a={"":i.a,"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Object(o.a)(100*t,n)},r:o.a,s:r.a,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}}},function(t,n,e){"use strict";e.d(n,"b",function(){return i});var i,r=e(52);n.a=function(t,n){var e=Object(r.a)(t,n);if(!e)return t+"";var o=e[0],a=e[1],u=a-(i=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,s=o.length;return u===s?o:u>s?o+new Array(u-s+1).join("0"):u>0?o.slice(0,u)+"."+o.slice(u):"0."+new Array(1-u).join("0")+Object(r.a)(t,Math.max(0,n+u-1))[0]}},function(t,n,e){"use strict";n.a=function(t,n){t=t.slice();var e,i=0,r=t.length-1,o=t[i],a=t[r];return a<o&&(e=i,i=r,r=e,e=o,o=a,a=e),t[i]=n.floor(o),t[r]=n.ceil(a),t}},function(t,n,e){"use strict";function i(t){return new Date(t)}function r(t){return t instanceof Date?+t:+new Date(+t)}function o(t,n,e,s,c,b,x,w,O){function j(i){return(x(i)<i?S:b(i)<i?C:c(i)<i?E:s(i)<i?N:n(i)<i?e(i)<i?P:D:t(i)<i?L:R)(i)}function M(n,e,i,r){if(null==n&&(n=10),"number"==typeof n){var o=Math.abs(i-e)/n,u=Object(a.c)(function(t){return t[2]}).right(H,o);u===H.length?(r=Object(a.g)(e/y,i/y,n),n=t):u?(u=H[o/H[u-1][2]<H[u][2]/o?u-1:u],r=u[1],n=u[0]):(r=Math.max(Object(a.g)(e,i,n),1),n=w)}return null==r?n:n.every(r)}var k=Object(f.b)(f.c,u.b),A=k.invert,T=k.domain,S=O(".%L"),C=O(":%S"),E=O("%I:%M"),N=O("%I %p"),P=O("%a %d"),D=O("%b %d"),L=O("%B"),R=O("%Y"),H=[[x,1,d],[x,5,5*d],[x,15,15*d],[x,30,30*d],[b,1,p],[b,5,5*p],[b,15,15*p],[b,30,30*p],[c,1,_],[c,3,3*_],[c,6,6*_],[c,12,12*_],[s,1,v],[s,2,2*v],[e,1,m],[n,1,g],[n,3,3*g],[t,1,y]];return k.invert=function(t){return new Date(A(t))},k.domain=function(t){return arguments.length?T(l.a.call(t,r)):T().map(i)},k.ticks=function(t,n){var e,i=T(),r=i[0],o=i[i.length-1],a=o<r;return a&&(e=r,r=o,o=e),e=M(t,r,o,n),e=e?e.range(r,o+1):[],a?e.reverse():e},k.tickFormat=function(t,n){return null==n?j:O(n)},k.nice=function(t,n){var e=T();return(t=M(t,e[0],e[e.length-1],n))?T(Object(h.a)(e,t)):k},k.copy=function(){return Object(f.a)(k,o(t,n,e,s,c,b,x,w,O))},k}n.a=o;var a=e(5),u=e(7),s=e(26),c=e(25),l=e(9),f=e(27),h=e(102),d=1e3,p=60*d,_=60*p,v=24*_,m=7*v,g=30*v,y=365*v;n.b=function(){return o(s.timeYear,s.timeMonth,s.timeWeek,s.timeDay,s.timeHour,s.timeMinute,s.timeSecond,s.timeMillisecond,c.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}},function(t,n,e){"use strict";var i=e(15),r=e(10),o=e(29),a=e(53),u=e(54);n.a=function(){function t(t){var n,r,o,a,u,_=t.length,v=!1,m=new Array(_),g=new Array(_);for(null==h&&(p=d(u=Object(i.a)())),n=0;n<=_;++n){if(!(n<_&&f(a=t[n],n,t))===v)if(v=!v)r=n,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),o=n-1;o>=r;--o)p.point(m[o],g[o]);p.lineEnd(),p.areaEnd()}v&&(m[n]=+e(a,n,t),g[n]=+c(a,n,t),p.point(s?+s(a,n,t):m[n],l?+l(a,n,t):g[n]))}if(u)return p=null,u+""||null}function n(){return Object(a.a)().defined(f).curve(d).context(h)}var e=u.a,s=null,c=Object(r.a)(0),l=u.b,f=Object(r.a)(!0),h=null,d=o.a,p=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:Object(r.a)(+n),s=null,t):e},t.x0=function(n){return arguments.length?(e="function"==typeof n?n:Object(r.a)(+n),t):e},t.x1=function(n){return arguments.length?(s=null==n?null:"function"==typeof n?n:Object(r.a)(+n),t):s},t.y=function(n){return arguments.length?(c="function"==typeof n?n:Object(r.a)(+n),l=null,t):c},t.y0=function(n){return arguments.length?(c="function"==typeof n?n:Object(r.a)(+n),t):c},t.y1=function(n){return arguments.length?(l=null==n?null:"function"==typeof n?n:Object(r.a)(+n),t):l},t.lineX0=t.lineY0=function(){return n().x(e).y(c)},t.lineY1=function(){return n().x(e).y(l)},t.lineX1=function(){return n().x(s).y(c)},t.defined=function(n){return arguments.length?(f="function"==typeof n?n:Object(r.a)(!!n),t):f},t.curve=function(n){return arguments.length?(d=n,null!=h&&(p=d(h)),t):d},t.context=function(n){return arguments.length?(null==n?h=p=null:p=d(h=n),t):h},t}},function(t,n,e){"use strict";function i(t){this._curve=t}function r(t){function n(n){return new i(t(n))}return n._curve=t,n}e.d(n,"a",function(){return a}),n.b=r;var o=e(29),a=r(o.a);i.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}}},function(t,n,e){"use strict";function i(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(Object(r.b)(t)):n()._curve},t}n.b=i;var r=e(105),o=e(53);n.a=function(){return i(Object(o.a)().curve(r.a))}},function(t,n,e){"use strict";n.a=function(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}},function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=Array.prototype.slice},function(t,n,e){"use strict";var i=e(16);n.a={draw:function(t,n){var e=Math.sqrt(n/i.j);t.moveTo(e,0),t.arc(0,0,e,0,i.m)}}},function(t,n,e){"use strict";n.a={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}}},function(t,n,e){"use strict";var i=Math.sqrt(1/3),r=2*i;n.a={draw:function(t,n){var e=Math.sqrt(n/r),o=e*i;t.moveTo(0,-e),t.lineTo(o,0),t.lineTo(0,e),t.lineTo(-o,0),t.closePath()}}},function(t,n,e){"use strict";var i=e(16),r=Math.sin(i.j/10)/Math.sin(7*i.j/10),o=Math.sin(i.m/10)*r,a=-Math.cos(i.m/10)*r;n.a={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=o*e,u=a*e;t.moveTo(0,-e),t.lineTo(r,u);for(var s=1;s<5;++s){var c=i.m*s/5,l=Math.cos(c),f=Math.sin(c);t.lineTo(f*e,-l*e),t.lineTo(l*r-f*u,f*r+l*u)}t.closePath()}}},function(t,n,e){"use strict";n.a={draw:function(t,n){var e=Math.sqrt(n),i=-e/2;t.rect(i,i,e,e)}}},function(t,n,e){"use strict";var i=Math.sqrt(3);n.a={draw:function(t,n){var e=-Math.sqrt(n/(3*i));t.moveTo(0,2*e),t.lineTo(-i*e,-e),t.lineTo(i*e,-e),t.closePath()}}},function(t,n,e){"use strict";var i=-.5,r=Math.sqrt(3)/2,o=1/Math.sqrt(12),a=3*(o/2+1);n.a={draw:function(t,n){var e=Math.sqrt(n/a),u=e/2,s=e*o,c=u,l=e*o+e,f=-c,h=l;t.moveTo(u,s),t.lineTo(c,l),t.lineTo(f,h),t.lineTo(i*u-r*s,r*u+i*s),t.lineTo(i*c-r*l,r*c+i*l),t.lineTo(i*f-r*h,r*f+i*h),t.lineTo(i*u+r*s,i*s-r*u),t.lineTo(i*c+r*l,i*l-r*c),t.lineTo(i*f+r*h,i*h-r*f),t.closePath()}}},function(t,n,e){"use strict";function i(t,n){this._context=t,this._k=(1-n)/6}n.a=i;var r=e(30),o=e(32);i.prototype={areaStart:r.a,areaEnd:r.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Object(o.c)(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},n.b=function t(n){function e(t){return new i(t,n)}return e.tension=function(n){return t(+n)},e}(0)},function(t,n,e){"use strict";function i(t,n){this._context=t,this._k=(1-n)/6}n.a=i;var r=e(32);i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(r.c)(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},n.b=function t(n){function e(t){return new i(t,n)}return e.tension=function(n){return t(+n)},e}(0)},function(t,n,e){e(119),t.exports=e(313)},function(t,n,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=e(120),o=e(123),a=e(138),u=i(a),s=e(60),c=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(s),l=e(139),f=i(l);c.enableAll();var h=Object.assign({},{queue:r.queue,json:o.json}),d={stopRadius:1,stopAreaRadius:1,tripRadius:3,showStops:!1,showStopAreas:!0,showLinks:!0,mode:"spiralSimulation",spiral:{timeMultiplier:30,paramA:30,paramB:15},dual:{verticalSplitPercentage:(Math.sqrt(5)-1)/2,mareyHeightMultiplier:5,journeyPattern:"HTM:1:363"}},p=function(t,n){var e=new f.default(n,d);if("spiralSimulation"===d.mode){var i=new u.default.GUI,r=d.spiral,o=function(){e.stopSpiralSimulation(),e.startSpiralSimulation(r.timeMultiplier,r.paramA,r.paramB)};[i.add(r,"timeMultiplier",0,200),i.add(r,"paramA",0,200),i.add(r,"paramB",0,200)].forEach(function(t){return t.onFinishChange(o)});var a=!0,s=function(){a?(e.stopSpiralSimulation(),a=!1):(e.startSpiralSimulation(r.timeMultiplier,r.paramA,r.paramB),a=!0)};Object.assign(r,{"start/stop":s}),i.add(r,"start/stop")}};h.queue().defer(h.json,"data/test.json").await(p)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(121);e.d(n,"queue",function(){return i.a})},function(t,n,e){"use strict";function i(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function r(t){if(!t._start)try{o(t)}catch(n){if(t._tasks[t._ended+t._active-1])u(t,n);else if(!t._data)throw n}}function o(t){for(;t._start=t._waiting&&t._active<t._size;){var n=t._ended+t._active,e=t._tasks[n],i=e.length-1,r=e[i];e[i]=a(t,n),--t._waiting,++t._active,e=r.apply(null,e),t._tasks[n]&&(t._tasks[n]=e||f)}}function a(t,n){return function(e,i){t._tasks[n]&&(--t._active,++t._ended,t._tasks[n]=null,null==t._error&&(null!=e?u(t,e):(t._data[n]=i,t._waiting?r(t):s(t))))}}function u(t,n){var e,i=t._tasks.length;for(t._error=n,t._data=void 0,t._waiting=NaN;--i>=0;)if((e=t._tasks[i])&&(t._tasks[i]=null,e.abort))try{e.abort()}catch(n){}t._active=NaN,s(t)}function s(t){if(!t._active&&t._call){var n=t._data;t._data=void 0,t._call(t._error,n)}}function c(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new i(t)}n.a=c;var l=e(122),f={};i.prototype=c.prototype={constructor:i,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var n=l.a.call(arguments,1);return n.push(t),++this._waiting,this._tasks.push(n),r(this),this},abort:function(){return null==this._error&&u(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(n,e){t.apply(null,[n].concat(e))},s(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,s(this),this}}},function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=[].slice},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(33);e.d(n,"request",function(){return i.a});var r=e(130);e.d(n,"html",function(){return r.a});var o=e(131);e.d(n,"json",function(){return o.a});var a=e(132);e.d(n,"text",function(){return a.a});var u=e(133);e.d(n,"xml",function(){return u.a});var s=e(134);e.d(n,"csv",function(){return s.a});var c=e(137);e.d(n,"tsv",function(){return c.a})},function(t,n,e){"use strict";e(34)},function(t,n,e){"use strict";function i(){}function r(t,n){var e=new i;if(t instanceof i)t.each(function(t){e.add(t)});else if(t){var r=-1,o=t.length;if(null==n)for(;++r<o;)e.add(t[r]);else for(;++r<o;)e.add(n(t[r],r,t))}return e}var o=e(34),a=o.a.prototype;i.prototype=r.prototype={constructor:i,has:a.has,add:function(t){return t+="",this[o.b+t]=t,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each}},function(t,n,e){"use strict"},function(t,n,e){"use strict"},function(t,n,e){"use strict"},function(t,n,e){"use strict";function i(){for(var t,n=0,e=arguments.length,i={};n<e;++n){if(!(t=arguments[n]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new r(i)}function r(t){this._=t}function o(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");if(i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}function a(t,n){for(var e,i=0,r=t.length;i<r;++i)if((e=t[i]).name===n)return e.value}function u(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=s,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}var s={value:function(){}};r.prototype=i.prototype={constructor:r,on:function(t,n){var e,i=this._,r=o(t+"",i),s=-1,c=r.length;{if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++s<c;)if(e=(t=r[s]).type)i[e]=u(i[e],t.name,n);else if(null==n)for(e in i)i[e]=u(i[e],t.name,null);return this}for(;++s<c;)if((e=(t=r[s]).type)&&(e=a(i[e],t.name)))return e}},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new r(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,i,r=new Array(e),o=0;o<e;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],o=0,e=i.length;o<e;++o)i[o].value.apply(n,r)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(n,e)}},n.a=i},function(t,n,e){"use strict";var i=e(20);n.a=Object(i.a)("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)})},function(t,n,e){"use strict";var i=e(20);n.a=Object(i.a)("application/json",function(t){return JSON.parse(t.responseText)})},function(t,n,e){"use strict";var i=e(20);n.a=Object(i.a)("text/plain",function(t){return t.responseText})},function(t,n,e){"use strict";var i=e(20);n.a=Object(i.a)("application/xml",function(t){var n=t.responseXML;if(!n)throw new Error("parse error");return n})},function(t,n,e){"use strict";var i=e(58),r=e(59);n.a=Object(r.a)("text/csv",i.a)},function(t,n,e){"use strict";e.d(n,"a",function(){return o});var i=e(35),r=Object(i.a)(","),o=r.parse;r.parseRows,r.format,r.formatRows},function(t,n,e){"use strict";e.d(n,"a",function(){return o});var i=e(35),r=Object(i.a)("\t"),o=r.parse;r.parseRows,r.format,r.formatRows},function(t,n,e){"use strict";var i=e(58),r=e(59);n.a=Object(r.a)("text/tab-separated-values",i.b)},function(t,n,e){"use strict";function i(t,n){var e=t.__state.conversionName.toString(),i=Math.round(t.r),r=Math.round(t.g),o=Math.round(t.b),a=t.a,u=Math.round(t.h),s=t.s.toFixed(1),c=t.v.toFixed(1);if(n||"THREE_CHAR_HEX"===e||"SIX_CHAR_HEX"===e){for(var l=t.hex.toString(16);l.length<6;)l="0"+l;return"#"+l}return"CSS_RGB"===e?"rgb("+i+","+r+","+o+")":"CSS_RGBA"===e?"rgba("+i+","+r+","+o+","+a+")":"HEX"===e?"0x"+t.hex.toString(16):"RGB_ARRAY"===e?"["+i+","+r+","+o+"]":"RGBA_ARRAY"===e?"["+i+","+r+","+o+","+a+"]":"RGB_OBJ"===e?"{r:"+i+",g:"+r+",b:"+o+"}":"RGBA_OBJ"===e?"{r:"+i+",g:"+r+",b:"+o+",a:"+a+"}":"HSV_OBJ"===e?"{h:"+u+",s:"+s+",v:"+c+"}":"HSVA_OBJ"===e?"{h:"+u+",s:"+s+",v:"+c+",a:"+a+"}":"unknown format"}function r(t,n,e){Object.defineProperty(t,n,{get:function(){return"RGB"===this.__state.space?this.__state[n]:(I.recalculateRGB(this,n,e),this.__state[n])},set:function(t){"RGB"!==this.__state.space&&(I.recalculateRGB(this,n,e),this.__state.space="RGB"),this.__state[n]=t}})}function o(t,n){Object.defineProperty(t,n,{get:function(){return"HSV"===this.__state.space?this.__state[n]:(I.recalculateHSV(this),this.__state[n])},set:function(t){"HSV"!==this.__state.space&&(I.recalculateHSV(this),this.__state.space="HSV"),this.__state[n]=t}})}function a(t){if("0"===t||S.isUndefined(t))return 0;var n=t.match(G);return S.isNull(n)?0:parseFloat(n[1])}function u(t){var n=t.toString();return n.indexOf(".")>-1?n.length-n.indexOf(".")-1:0}function s(t,n){var e=Math.pow(10,n);return Math.round(t*e)/e}function c(t,n,e,i,r){return i+(t-n)/(e-n)*(r-i)}function l(t,n,e,i){t.style.background="",S.each(et,function(r){t.style.cssText+="background: "+r+"linear-gradient("+n+", "+e+" 0%, "+i+" 100%); "})}function f(t){t.style.background="",t.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",t.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}function h(t){setTimeout(t,1e3/60)}function d(t,n,e){var i=document.createElement("li");return n&&i.appendChild(n),e?t.__ul.insertBefore(i,e):t.__ul.appendChild(i),t.onResize(),i}function p(t,n){var e=t.__preset_select[t.__preset_select.selectedIndex];e.innerHTML=n?e.value+"*":e.value}function _(t,n,e){if(e.__li=n,e.__gui=t,S.extend(e,{options:function(n){if(arguments.length>1){var i=e.__li.nextElementSibling;return e.remove(),m(t,e.object,e.property,{before:i,factoryArgs:[S.toArray(arguments)]})}if(S.isArray(n)||S.isObject(n)){var r=e.__li.nextElementSibling;return e.remove(),m(t,e.object,e.property,{before:r,factoryArgs:[n]})}},name:function(t){return e.__li.firstElementChild.firstElementChild.innerHTML=t,e},listen:function(){return e.__gui.listen(e),e},remove:function(){return e.__gui.remove(e),e}}),e instanceof $){var i=new Z(e.object,e.property,{min:e.__min,max:e.__max,step:e.__step});S.each(["updateDisplay","onChange","onFinishChange","step"],function(t){var n=e[t],r=i[t];e[t]=i[t]=function(){var t=Array.prototype.slice.call(arguments);return r.apply(i,t),n.apply(e,t)}}),q.addClass(n,"has-slider"),e.domElement.insertBefore(i.domElement,e.domElement.firstElementChild)}else if(e instanceof Z){var r=function(n){if(S.isNumber(e.__min)&&S.isNumber(e.__max)){var i=e.__li.firstElementChild.firstElementChild.innerHTML,r=e.__gui.__listening.indexOf(e)>-1;e.remove();var o=m(t,e.object,e.property,{before:e.__li.nextElementSibling,factoryArgs:[e.__min,e.__max,e.__step]});return o.name(i),r&&o.listen(),o}return n};e.min=S.compose(r,e.min),e.max=S.compose(r,e.max)}else e instanceof W?(q.bind(n,"click",function(){q.fakeEvent(e.__checkbox,"click")}),q.bind(e.__checkbox,"click",function(t){t.stopPropagation()})):e instanceof tt?(q.bind(n,"click",function(){q.fakeEvent(e.__button,"click")}),q.bind(n,"mouseover",function(){q.addClass(e.__button,"hover")}),q.bind(n,"mouseout",function(){q.removeClass(e.__button,"hover")})):e instanceof nt&&(q.addClass(n,"color"),e.updateDisplay=S.compose(function(t){return n.style.borderLeftColor=e.__color.toString(),t},e.updateDisplay),e.updateDisplay());e.setValue=S.compose(function(n){return t.getRoot().__preset_select&&e.isModified()&&p(t.getRoot(),!0),n},e.setValue)}function v(t,n){var e=t.getRoot(),i=e.__rememberedObjects.indexOf(n.object);if(-1!==i){var r=e.__rememberedObjectIndecesToControllers[i];if(void 0===r&&(r={},e.__rememberedObjectIndecesToControllers[i]=r),r[n.property]=n,e.load&&e.load.remembered){var o=e.load.remembered,a=void 0;if(o[t.preset])a=o[t.preset];else{if(!o[st])return;a=o[st]}if(a[i]&&void 0!==a[i][n.property]){var u=a[i][n.property];n.initialValue=u,n.setValue(u)}}}}function m(t,n,e,i){if(void 0===n[e])throw new Error('Object "'+n+'" has no property "'+e+'"');var r=void 0;if(i.color)r=new nt(n,e);else{var o=[n,e].concat(i.factoryArgs);r=rt.apply(t,o)}i.before instanceof Y&&(i.before=i.before.__li),v(t,r),q.addClass(r.domElement,"c");var a=document.createElement("span");q.addClass(a,"property-name"),a.innerHTML=r.property;var u=document.createElement("div");u.appendChild(a),u.appendChild(r.domElement);var s=d(t,u,i.before);return q.addClass(s,_t.CLASS_CONTROLLER_ROW),r instanceof nt?q.addClass(s,"color"):q.addClass(s,R(r.getValue())),_(t,s,r),t.__controllers.push(r),r}function g(t,n){return document.location.href+"."+n}function y(t,n,e){var i=document.createElement("option");i.innerHTML=n,i.value=n,t.__preset_select.appendChild(i),e&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function b(t,n){n.style.display=t.useLocalStorage?"block":"none"}function x(t){var n=t.__save_row=document.createElement("li");q.addClass(t.domElement,"has-save"),t.__ul.insertBefore(n,t.__ul.firstChild),q.addClass(n,"save-row");var e=document.createElement("span");e.innerHTML="&nbsp;",q.addClass(e,"button gears");var i=document.createElement("span");i.innerHTML="Save",q.addClass(i,"button"),q.addClass(i,"save");var r=document.createElement("span");r.innerHTML="New",q.addClass(r,"button"),q.addClass(r,"save-as");var o=document.createElement("span");o.innerHTML="Revert",q.addClass(o,"button"),q.addClass(o,"revert");var a=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?S.each(t.load.remembered,function(n,e){y(t,e,e===t.preset)}):y(t,st,!1),q.bind(a,"change",function(){for(var n=0;n<t.__preset_select.length;n++)t.__preset_select[n].innerHTML=t.__preset_select[n].value;t.preset=this.value}),n.appendChild(a),n.appendChild(e),n.appendChild(i),n.appendChild(r),n.appendChild(o),ct){var u=document.getElementById("dg-local-explain"),s=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(g(t,"isLocal"))&&s.setAttribute("checked","checked"),b(t,u),q.bind(s,"change",function(){t.useLocalStorage=!t.useLocalStorage,b(t,u)})}var c=document.getElementById("dg-new-constructor");q.bind(c,"keydown",function(t){!t.metaKey||67!==t.which&&67!==t.keyCode||lt.hide()}),q.bind(e,"click",function(){c.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),lt.show(),c.focus(),c.select()}),q.bind(i,"click",function(){t.save()}),q.bind(r,"click",function(){var n=prompt("Enter a new preset name.");n&&t.saveAs(n)}),q.bind(o,"click",function(){t.revert()})}function w(t){function n(n){return n.preventDefault(),t.width+=r-n.clientX,t.onResize(),r=n.clientX,!1}function e(){q.removeClass(t.__closeButton,_t.CLASS_DRAG),q.unbind(window,"mousemove",n),q.unbind(window,"mouseup",e)}function i(i){return i.preventDefault(),r=i.clientX,q.addClass(t.__closeButton,_t.CLASS_DRAG),q.bind(window,"mousemove",n),q.bind(window,"mouseup",e),!1}var r=void 0;t.__resize_handle=document.createElement("div"),S.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),q.bind(t.__resize_handle,"mousedown",i),q.bind(t.__closeButton,"mousedown",i),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function O(t,n){t.domElement.style.width=n+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=n+"px"),t.__closeButton&&(t.__closeButton.style.width=n+"px")}function j(t,n){var e={};return S.each(t.__rememberedObjects,function(i,r){var o={},a=t.__rememberedObjectIndecesToControllers[r];S.each(a,function(t,e){o[e]=n?t.initialValue:t.getValue()}),e[r]=o}),e}function M(t){for(var n=0;n<t.__preset_select.length;n++)t.__preset_select[n].value===t.preset&&(t.__preset_select.selectedIndex=n)}function k(t){0!==t.length&&ot.call(window,function(){k(t)}),S.each(t,function(t){t.updateDisplay()})}Object.defineProperty(n,"__esModule",{value:!0});var A=Array.prototype.forEach,T=Array.prototype.slice,S={BREAK:{},extend:function(t){return this.each(T.call(arguments,1),function(n){(this.isObject(n)?Object.keys(n):[]).forEach(function(e){this.isUndefined(n[e])||(t[e]=n[e])}.bind(this))},this),t},defaults:function(t){return this.each(T.call(arguments,1),function(n){(this.isObject(n)?Object.keys(n):[]).forEach(function(e){this.isUndefined(t[e])&&(t[e]=n[e])}.bind(this))},this),t},compose:function(){var t=T.call(arguments);return function(){for(var n=T.call(arguments),e=t.length-1;e>=0;e--)n=[t[e].apply(this,n)];return n[0]}},each:function(t,n,e){if(t)if(A&&t.forEach&&t.forEach===A)t.forEach(n,e);else if(t.length===t.length+0){var i=void 0,r=void 0;for(i=0,r=t.length;i<r;i++)if(i in t&&n.call(e,t[i],i)===this.BREAK)return}else for(var o in t)if(n.call(e,t[o],o)===this.BREAK)return},defer:function(t){setTimeout(t,0)},debounce:function(t,n,e){var i=void 0;return function(){function r(){i=null,e||t.apply(o,a)}var o=this,a=arguments,u=e||!i;clearTimeout(i),i=setTimeout(r,n),u&&t.apply(o,a)}},toArray:function(t){return t.toArray?t.toArray():T.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){function n(n){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}(function(t){return isNaN(t)}),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}},C=[{litmus:S.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var n=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==n&&{space:"HEX",hex:parseInt("0x"+n[1].toString()+n[1].toString()+n[2].toString()+n[2].toString()+n[3].toString()+n[3].toString(),0)}},write:i},SIX_CHAR_HEX:{read:function(t){var n=t.match(/^#([A-F0-9]{6})$/i);return null!==n&&{space:"HEX",hex:parseInt("0x"+n[1].toString(),0)}},write:i},CSS_RGB:{read:function(t){var n=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==n&&{space:"RGB",r:parseFloat(n[1]),g:parseFloat(n[2]),b:parseFloat(n[3])}},write:i},CSS_RGBA:{read:function(t){var n=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==n&&{space:"RGB",r:parseFloat(n[1]),g:parseFloat(n[2]),b:parseFloat(n[3]),a:parseFloat(n[4])}},write:i}}},{litmus:S.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:S.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:S.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(S.isNumber(t.r)&&S.isNumber(t.g)&&S.isNumber(t.b)&&S.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(S.isNumber(t.r)&&S.isNumber(t.g)&&S.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(S.isNumber(t.h)&&S.isNumber(t.s)&&S.isNumber(t.v)&&S.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(S.isNumber(t.h)&&S.isNumber(t.s)&&S.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],E=void 0,N=void 0,P=function(){N=!1;var t=arguments.length>1?S.toArray(arguments):arguments[0];return S.each(C,function(n){if(n.litmus(t))return S.each(n.conversions,function(n,e){if(E=n.read(t),!1===N&&!1!==E)return N=E,E.conversionName=e,E.conversion=n,S.BREAK}),S.BREAK}),N},D=void 0,L={hsv_to_rgb:function(t,n,e){var i=Math.floor(t/60)%6,r=t/60-Math.floor(t/60),o=e*(1-n),a=e*(1-r*n),u=e*(1-(1-r)*n),s=[[e,u,o],[a,e,o],[o,e,u],[o,a,e],[u,o,e],[e,o,a]][i];return{r:255*s[0],g:255*s[1],b:255*s[2]}},rgb_to_hsv:function(t,n,e){var i=Math.min(t,n,e),r=Math.max(t,n,e),o=r-i,a=void 0,u=void 0;return 0===r?{h:NaN,s:0,v:0}:(u=o/r,a=t===r?(n-e)/o:n===r?2+(e-t)/o:4+(t-n)/o,a/=6,a<0&&(a+=1),{h:360*a,s:u,v:r/255})},rgb_to_hex:function(t,n,e){var i=this.hex_with_component(0,2,t);return i=this.hex_with_component(i,1,n),i=this.hex_with_component(i,0,e)},component_from_hex:function(t,n){return t>>8*n&255},hex_with_component:function(t,n,e){return e<<(D=8*n)|t&~(255<<D)}},R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},F=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),z=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var o=Object.getPrototypeOf(n);return null===o?void 0:t(o,e,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},B=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)},U=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n},I=function(){function t(){if(H(this,t),this.__state=P.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return F(t,[{key:"toString",value:function(){return i(this)}},{key:"toHexString",value:function(){return i(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();I.recalculateRGB=function(t,n,e){if("HEX"===t.__state.space)t.__state[n]=L.component_from_hex(t.__state.hex,e);else{if("HSV"!==t.__state.space)throw new Error("Corrupted color state");S.extend(t.__state,L.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}},I.recalculateHSV=function(t){var n=L.rgb_to_hsv(t.r,t.g,t.b);S.extend(t.__state,{s:n.s,v:n.v}),S.isNaN(n.h)?S.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=n.h},I.COMPONENTS=["r","g","b","h","s","v","hex","a"],r(I.prototype,"r",2),r(I.prototype,"g",1),r(I.prototype,"b",0),o(I.prototype,"h"),o(I.prototype,"s"),o(I.prototype,"v"),Object.defineProperty(I.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(I.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=L.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}});var Y=function(){function t(n,e){H(this,t),this.initialValue=n[e],this.domElement=document.createElement("div"),this.object=n,this.property=e,this.__onChange=void 0,this.__onFinishChange=void 0}return F(t,[{key:"onChange",value:function(t){return this.__onChange=t,this}},{key:"onFinishChange",value:function(t){return this.__onFinishChange=t,this}},{key:"setValue",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),V={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},X={};S.each(V,function(t,n){S.each(t,function(t){X[t]=n})});var G=/(\d+(\.\d+)?)px/,q={makeSelectable:function(t,n){void 0!==t&&void 0!==t.style&&(t.onselectstart=n?function(){return!1}:function(){},t.style.MozUserSelect=n?"auto":"none",t.style.KhtmlUserSelect=n?"auto":"none",t.unselectable=n?"on":"off")},makeFullscreen:function(t,n,e){var i=e,r=n;S.isUndefined(r)&&(r=!0),S.isUndefined(i)&&(i=!0),t.style.position="absolute",r&&(t.style.left=0,t.style.right=0),i&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,n,e,i){var r=e||{},o=X[n];if(!o)throw new Error("Event type "+n+" not supported.");var a=document.createEvent(o);switch(o){case"MouseEvents":var u=r.x||r.clientX||0,s=r.y||r.clientY||0;a.initMouseEvent(n,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,u,s,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=a.initKeyboardEvent||a.initKeyEvent;S.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(n,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break;default:a.initEvent(n,r.bubbles||!1,r.cancelable||!0)}S.defaults(a,i),t.dispatchEvent(a)},bind:function(t,n,e,i){var r=i||!1;return t.addEventListener?t.addEventListener(n,e,r):t.attachEvent&&t.attachEvent("on"+n,e),q},unbind:function(t,n,e,i){var r=i||!1;return t.removeEventListener?t.removeEventListener(n,e,r):t.detachEvent&&t.detachEvent("on"+n,e),q},addClass:function(t,n){if(void 0===t.className)t.className=n;else if(t.className!==n){var e=t.className.split(/ +/);-1===e.indexOf(n)&&(e.push(n),t.className=e.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return q},removeClass:function(t,n){if(n)if(t.className===n)t.removeAttribute("class");else{var e=t.className.split(/ +/),i=e.indexOf(n);-1!==i&&(e.splice(i,1),t.className=e.join(" "))}else t.className=void 0;return q},hasClass:function(t,n){return new RegExp("(?:^|\\s+)"+n+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var n=getComputedStyle(t);return a(n["border-left-width"])+a(n["border-right-width"])+a(n["padding-left"])+a(n["padding-right"])+a(n.width)},getHeight:function(t){var n=getComputedStyle(t);return a(n["border-top-width"])+a(n["border-bottom-width"])+a(n["padding-top"])+a(n["padding-bottom"])+a(n.height)},getOffset:function(t){var n=t,e={left:0,top:0};if(n.offsetParent)do{e.left+=n.offsetLeft,e.top+=n.offsetTop,n=n.offsetParent}while(n);return e},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},W=function(t){function n(t,e){function i(){o.setValue(!o.__prev)}H(this,n);var r=U(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e)),o=r;return r.__prev=r.getValue(),r.__checkbox=document.createElement("input"),r.__checkbox.setAttribute("type","checkbox"),q.bind(r.__checkbox,"change",i,!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return B(n,t),F(n,[{key:"setValue",value:function(t){var e=z(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),e}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),z(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this)}}]),n}(Y),J=function(t){function n(t,e,i){H(this,n);var r=U(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e)),o=i,a=r;if(r.__select=document.createElement("select"),S.isArray(o)){var u={};S.each(o,function(t){u[t]=t}),o=u}return S.each(o,function(t,n){var e=document.createElement("option");e.innerHTML=n,e.setAttribute("value",t),a.__select.appendChild(e)}),r.updateDisplay(),q.bind(r.__select,"change",function(){var t=this.options[this.selectedIndex].value;a.setValue(t)}),r.domElement.appendChild(r.__select),r}return B(n,t),F(n,[{key:"setValue",value:function(t){var e=z(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),e}},{key:"updateDisplay",value:function(){return q.isActive(this.__select)?this:(this.__select.value=this.getValue(),z(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this))}}]),n}(Y),Q=function(t){function n(t,e){function i(){a.setValue(a.__input.value)}function r(){a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}H(this,n);var o=U(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e)),a=o;return o.__input=document.createElement("input"),o.__input.setAttribute("type","text"),q.bind(o.__input,"keyup",i),q.bind(o.__input,"change",i),q.bind(o.__input,"blur",r),q.bind(o.__input,"keydown",function(t){13===t.keyCode&&this.blur()}),o.updateDisplay(),o.domElement.appendChild(o.__input),o}return B(n,t),F(n,[{key:"updateDisplay",value:function(){return q.isActive(this.__input)||(this.__input.value=this.getValue()),z(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this)}}]),n}(Y),K=function(t){function n(t,e,i){H(this,n);var r=U(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e)),o=i||{};return r.__min=o.min,r.__max=o.max,r.__step=o.step,S.isUndefined(r.__step)?0===r.initialValue?r.__impliedStep=1:r.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(r.initialValue))/Math.LN10))/10:r.__impliedStep=r.__step,r.__precision=u(r.__impliedStep),r}return B(n,t),F(n,[{key:"setValue",value:function(t){var e=t;return void 0!==this.__min&&e<this.__min?e=this.__min:void 0!==this.__max&&e>this.__max&&(e=this.__max),void 0!==this.__step&&e%this.__step!=0&&(e=Math.round(e/this.__step)*this.__step),z(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setValue",this).call(this,e)}},{key:"min",value:function(t){return this.__min=t,this}},{key:"max",value:function(t){return this.__max=t,this}},{key:"step",value:function(t){return this.__step=t,this.__impliedStep=t,this.__precision=u(t),this}}]),n}(Y),Z=function(t){function n(t,e,i){function r(){var t=parseFloat(f.__input.value);S.isNaN(t)||f.setValue(t)}function o(){f.__onFinishChange&&f.__onFinishChange.call(f,f.getValue())}function a(){o()}function u(t){var n=h-t.clientY;f.setValue(f.getValue()+n*f.__impliedStep),h=t.clientY}function s(){q.unbind(window,"mousemove",u),q.unbind(window,"mouseup",s),o()}function c(t){q.bind(window,"mousemove",u),q.bind(window,"mouseup",s),h=t.clientY}H(this,n);var l=U(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i));l.__truncationSuspended=!1;var f=l,h=void 0;return l.__input=document.createElement("input"),l.__input.setAttribute("type","text"),q.bind(l.__input,"change",r),q.bind(l.__input,"blur",a),q.bind(l.__input,"mousedown",c),q.bind(l.__input,"keydown",function(t){13===t.keyCode&&(f.__truncationSuspended=!0,this.blur(),f.__truncationSuspended=!1,o())}),l.updateDisplay(),l.domElement.appendChild(l.__input),l}return B(n,t),F(n,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():s(this.getValue(),this.__precision),z(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this)}}]),n}(K),$=function(t){function n(t,e,i,r,o){function a(t){document.activeElement.blur(),q.bind(window,"mousemove",u),q.bind(window,"mouseup",s),u(t)}function u(t){t.preventDefault();var n=p.__background.getBoundingClientRect();return p.setValue(c(t.clientX,n.left,n.right,p.__min,p.__max)),!1}function s(){q.unbind(window,"mousemove",u),q.unbind(window,"mouseup",s),p.__onFinishChange&&p.__onFinishChange.call(p,p.getValue())}function l(t){1===t.touches.length&&(q.bind(window,"touchmove",f),q.bind(window,"touchend",h),f(t))}function f(t){var n=t.touches[0].clientX,e=p.__background.getBoundingClientRect();p.setValue(c(n,e.left,e.right,p.__min,p.__max))}function h(){q.unbind(window,"touchmove",f),q.unbind(window,"touchend",h),p.__onFinishChange&&p.__onFinishChange.call(p,p.getValue())}H(this,n);var d=U(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,{min:i,max:r,step:o})),p=d;return d.__background=document.createElement("div"),d.__foreground=document.createElement("div"),q.bind(d.__background,"mousedown",a),q.bind(d.__background,"touchstart",l),q.addClass(d.__background,"slider"),q.addClass(d.__foreground,"slider-fg"),d.updateDisplay(),d.__background.appendChild(d.__foreground),d.domElement.appendChild(d.__background),d}return B(n,t),F(n,[{key:"updateDisplay",value:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",z(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this)}}]),n}(K),tt=function(t){function n(t,e,i){H(this,n);var r=U(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e)),o=r;return r.__button=document.createElement("div"),r.__button.innerHTML=void 0===i?"Fire":i,q.bind(r.__button,"click",function(t){return t.preventDefault(),o.fire(),!1}),q.addClass(r.__button,"button"),r.domElement.appendChild(r.__button),r}return B(n,t),F(n,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),n}(Y),nt=function(t){function n(t,e){function i(t){c(t),q.bind(window,"mousemove",c),q.bind(window,"touchmove",c),q.bind(window,"mouseup",o),q.bind(window,"touchend",o)}function r(t){h(t),q.bind(window,"mousemove",h),q.bind(window,"touchmove",h),q.bind(window,"mouseup",a),q.bind(window,"touchend",a)}function o(){q.unbind(window,"mousemove",c),q.unbind(window,"touchmove",c),q.unbind(window,"mouseup",o),q.unbind(window,"touchend",o),s()}function a(){q.unbind(window,"mousemove",h),q.unbind(window,"touchmove",h),q.unbind(window,"mouseup",a),q.unbind(window,"touchend",a),s()}function u(){var t=P(this.value);!1!==t?(p.__color.__state=t,p.setValue(p.__color.toOriginal())):this.value=p.__color.toString()}function s(){p.__onFinishChange&&p.__onFinishChange.call(p,p.__color.toOriginal())}function c(t){-1===t.type.indexOf("touch")&&t.preventDefault();var n=p.__saturation_field.getBoundingClientRect(),e=t.touches&&t.touches[0]||t,i=e.clientX,r=e.clientY,o=(i-n.left)/(n.right-n.left),a=1-(r-n.top)/(n.bottom-n.top);return a>1?a=1:a<0&&(a=0),o>1?o=1:o<0&&(o=0),p.__color.v=a,p.__color.s=o,p.setValue(p.__color.toOriginal()),!1}function h(t){-1===t.type.indexOf("touch")&&t.preventDefault();var n=p.__hue_field.getBoundingClientRect(),e=t.touches&&t.touches[0]||t,i=e.clientY,r=1-(i-n.top)/(n.bottom-n.top);return r>1?r=1:r<0&&(r=0),p.__color.h=360*r,p.setValue(p.__color.toOriginal()),!1}H(this,n);var d=U(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e));d.__color=new I(d.getValue()),d.__temp=new I(0);var p=d;d.domElement=document.createElement("div"),q.makeSelectable(d.domElement,!1),d.__selector=document.createElement("div"),d.__selector.className="selector",d.__saturation_field=document.createElement("div"),d.__saturation_field.className="saturation-field",d.__field_knob=document.createElement("div"),d.__field_knob.className="field-knob",d.__field_knob_border="2px solid ",d.__hue_knob=document.createElement("div"),d.__hue_knob.className="hue-knob",d.__hue_field=document.createElement("div"),d.__hue_field.className="hue-field",d.__input=document.createElement("input"),d.__input.type="text",d.__input_textShadow="0 1px 1px ",q.bind(d.__input,"keydown",function(t){13===t.keyCode&&u.call(this)}),q.bind(d.__input,"blur",u),q.bind(d.__selector,"mousedown",function(){q.addClass(this,"drag").bind(window,"mouseup",function(){q.removeClass(p.__selector,"drag")})}),q.bind(d.__selector,"touchstart",function(){q.addClass(this,"drag").bind(window,"touchend",function(){q.removeClass(p.__selector,"drag")})});var _=document.createElement("div");return S.extend(d.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),S.extend(d.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:d.__field_knob_border+(d.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),S.extend(d.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),S.extend(d.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),S.extend(_.style,{width:"100%",height:"100%",background:"none"}),l(_,"top","rgba(0,0,0,0)","#000"),S.extend(d.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),f(d.__hue_field),S.extend(d.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:d.__input_textShadow+"rgba(0,0,0,0.7)"}),q.bind(d.__saturation_field,"mousedown",i),q.bind(d.__saturation_field,"touchstart",i),q.bind(d.__field_knob,"mousedown",i),q.bind(d.__field_knob,"touchstart",i),q.bind(d.__hue_field,"mousedown",r),q.bind(d.__hue_field,"touchstart",r),d.__saturation_field.appendChild(_),d.__selector.appendChild(d.__field_knob),d.__selector.appendChild(d.__saturation_field),d.__selector.appendChild(d.__hue_field),d.__hue_field.appendChild(d.__hue_knob),d.domElement.appendChild(d.__input),d.domElement.appendChild(d.__selector),d.updateDisplay(),d}return B(n,t),F(n,[{key:"updateDisplay",value:function(){var t=P(this.getValue());if(!1!==t){var n=!1;S.each(I.COMPONENTS,function(e){if(!S.isUndefined(t[e])&&!S.isUndefined(this.__color.__state[e])&&t[e]!==this.__color.__state[e])return n=!0,{}},this),n&&S.extend(this.__color.__state,t)}S.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var e=this.__color.v<.5||this.__color.s>.5?255:0,i=255-e;S.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+e+","+e+","+e+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,l(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),S.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+e+","+e+","+e+")",textShadow:this.__input_textShadow+"rgba("+i+","+i+","+i+",.7)"})}}]),n}(Y),et=["-moz-","-o-","-webkit-","-ms-",""],it={load:function(t,n){var e=n||document,i=e.createElement("link");i.type="text/css",i.rel="stylesheet",i.href=t,e.getElementsByTagName("head")[0].appendChild(i)},inject:function(t,n){var e=n||document,i=document.createElement("style");i.type="text/css",i.innerHTML=t;var r=e.getElementsByTagName("head")[0];try{r.appendChild(i)}catch(t){}}},rt=function(t,n){var e=t[n];return S.isArray(arguments[2])||S.isObject(arguments[2])?new J(t,n,arguments[2]):S.isNumber(e)?S.isNumber(arguments[2])&&S.isNumber(arguments[3])?S.isNumber(arguments[4])?new $(t,n,arguments[2],arguments[3],arguments[4]):new $(t,n,arguments[2],arguments[3]):S.isNumber(arguments[4])?new Z(t,n,{min:arguments[2],max:arguments[3],step:arguments[4]}):new Z(t,n,{min:arguments[2],max:arguments[3]}):S.isString(e)?new Q(t,n):S.isFunction(e)?new tt(t,n,""):S.isBoolean(e)?new W(t,n):null},ot=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||h,at=function(){function t(){H(this,t),this.backgroundElement=document.createElement("div"),S.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),q.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),S.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var n=this;q.bind(this.backgroundElement,"click",function(){n.hide()})}return F(t,[{key:"show",value:function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),S.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var t=this,n=function n(){t.domElement.style.display="none",t.backgroundElement.style.display="none",q.unbind(t.domElement,"webkitTransitionEnd",n),q.unbind(t.domElement,"transitionend",n),q.unbind(t.domElement,"oTransitionEnd",n)};q.bind(this.domElement,"webkitTransitionEnd",n),q.bind(this.domElement,"transitionend",n),q.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-q.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-q.getHeight(this.domElement)/2+"px"}}]),t}(),ut=function(t){if(t&&"undefined"!=typeof window){var n=document.createElement("style");return n.setAttribute("type","text/css"),n.innerHTML=t,document.head.appendChild(n),t}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid transparent}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");it.inject(ut);var st="Default",ct=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}}(),lt=void 0,ft=!0,ht=void 0,dt=!1,pt=[],_t=function t(n){var e=this,i=n||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),q.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],i=S.defaults(i,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),i=S.defaults(i,{resizable:i.autoPlace,hideable:i.autoPlace}),S.isUndefined(i.load)?i.load={preset:st}:i.preset&&(i.load.preset=i.preset),S.isUndefined(i.parent)&&i.hideable&&pt.push(this),i.resizable=S.isUndefined(i.parent)&&i.resizable,i.autoPlace&&S.isUndefined(i.scrollable)&&(i.scrollable=!0);var r=ct&&"true"===localStorage.getItem(g(this,"isLocal")),o=void 0;if(Object.defineProperties(this,{parent:{get:function(){return i.parent}},scrollable:{get:function(){return i.scrollable}},autoPlace:{get:function(){return i.autoPlace}},closeOnTop:{get:function(){return i.closeOnTop}},preset:{get:function(){return e.parent?e.getRoot().preset:i.load.preset},set:function(t){e.parent?e.getRoot().preset=t:i.load.preset=t,M(this),e.revert()}},width:{get:function(){return i.width},set:function(t){i.width=t,O(e,t)}},name:{get:function(){return i.name},set:function(t){i.name=t,titleRowName&&(titleRowName.innerHTML=i.name)}},closed:{get:function(){return i.closed},set:function(n){i.closed=n,i.closed?q.addClass(e.__ul,t.CLASS_CLOSED):q.removeClass(e.__ul,t.CLASS_CLOSED),this.onResize(),e.__closeButton&&(e.__closeButton.innerHTML=n?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return i.load}},useLocalStorage:{get:function(){return r},set:function(t){ct&&(r=t,t?q.bind(window,"unload",o):q.unbind(window,"unload",o),localStorage.setItem(g(e,"isLocal"),t))}}}),S.isUndefined(i.parent)){if(i.closed=!1,q.addClass(this.domElement,t.CLASS_MAIN),q.makeSelectable(this.domElement,!1),ct&&r){e.useLocalStorage=!0;var a=localStorage.getItem(g(this,"gui"));a&&(i.load=JSON.parse(a))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,q.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),i.closeOnTop?(q.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(q.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),q.bind(this.__closeButton,"click",function(){e.closed=!e.closed})}else{void 0===i.closed&&(i.closed=!0);var u=document.createTextNode(i.name);q.addClass(u,"controller-name");var s=d(e,u),c=function(t){return t.preventDefault(),e.closed=!e.closed,!1};q.addClass(this.__ul,t.CLASS_CLOSED),q.addClass(s,"title"),q.bind(s,"click",c),i.closed||(this.closed=!1)}i.autoPlace&&(S.isUndefined(i.parent)&&(ft&&(ht=document.createElement("div"),q.addClass(ht,"dg"),q.addClass(ht,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(ht),ft=!1),ht.appendChild(this.domElement),q.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||O(e,i.width)),this.__resizeHandler=function(){e.onResizeDebounced()},q.bind(window,"resize",this.__resizeHandler),q.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),q.bind(this.__ul,"transitionend",this.__resizeHandler),q.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),i.resizable&&w(this),o=function(){ct&&"true"===localStorage.getItem(g(e,"isLocal"))&&localStorage.setItem(g(e,"gui"),JSON.stringify(e.getSaveObject()))},this.saveToLocalStorageIfPossible=o,i.parent||function(){var t=e.getRoot();t.width+=1,S.defer(function(){t.width-=1})}()};_t.toggleHide=function(){dt=!dt,S.each(pt,function(t){t.domElement.style.display=dt?"none":""})},_t.CLASS_AUTO_PLACE="a",_t.CLASS_AUTO_PLACE_CONTAINER="ac",_t.CLASS_MAIN="main",_t.CLASS_CONTROLLER_ROW="cr",_t.CLASS_TOO_TALL="taller-than-window",_t.CLASS_CLOSED="closed",_t.CLASS_CLOSE_BUTTON="close-button",_t.CLASS_CLOSE_TOP="close-top",_t.CLASS_CLOSE_BOTTOM="close-bottom",_t.CLASS_DRAG="drag",_t.DEFAULT_WIDTH=245,_t.TEXT_CLOSED="Close Controls",_t.TEXT_OPEN="Open Controls",_t._keydownHandler=function(t){"text"===document.activeElement.type||72!==t.which&&72!==t.keyCode||_t.toggleHide()},q.bind(window,"keydown",_t._keydownHandler,!1),S.extend(_t.prototype,{add:function(t,n){return m(this,t,n,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,n){return m(this,t,n,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var n=this;S.defer(function(){n.onResize()})},destroy:function(){this.autoPlace&&ht.removeChild(this.domElement),q.unbind(window,"keydown",_t._keydownHandler,!1),q.unbind(window,"resize",this.__resizeHandler),this.saveToLocalStorageIfPossible&&q.unbind(window,"unload",this.saveToLocalStorageIfPossible)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var n={name:t,parent:this};n.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(n.closed=this.load.folders[t].closed,n.load=this.load.folders[t]);var e=new _t(n);this.__folders[t]=e;var i=d(this,e.domElement);return q.addClass(i,"folder"),e},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name];var n=this;S.defer(function(){n.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var t=this.getRoot();if(t.scrollable){var n=q.getOffset(t.__ul).top,e=0;S.each(t.__ul.childNodes,function(n){t.autoPlace&&n===t.__save_row||(e+=q.getHeight(n))}),window.innerHeight-n-20<e?(q.addClass(t.domElement,_t.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-n-20+"px"):(q.removeClass(t.domElement,_t.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&S.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"}),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:S.debounce(function(){this.onResize()},50),remember:function(){if(S.isUndefined(lt)&&(lt=new at,lt.domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;S.each(Array.prototype.slice.call(arguments),function(n){0===t.__rememberedObjects.length&&x(t),-1===t.__rememberedObjects.indexOf(n)&&t.__rememberedObjects.push(n)}),this.autoPlace&&O(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=j(this)),t.folders={},S.each(this.__folders,function(n,e){t.folders[e]=n.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=j(this),p(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[st]=j(this,!0)),this.load.remembered[t]=j(this),this.preset=t,y(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){S.each(this.__controllers,function(n){this.getRoot().load.remembered?v(t||this.getRoot(),n):n.setValue(n.initialValue),n.__onFinishChange&&n.__onFinishChange.call(n,n.getValue())},this),S.each(this.__folders,function(t){t.revert(t)}),t||p(this.getRoot(),!1)},listen:function(t){var n=0===this.__listening.length;this.__listening.push(t),n&&k(this.__listening)},updateDisplay:function(){S.each(this.__controllers,function(t){t.updateDisplay()}),S.each(this.__folders,function(t){t.updateDisplay()})}});var vt={color:{Color:I,math:L,interpret:P},controllers:{Controller:Y,BooleanController:W,OptionController:J,StringController:Q,NumberController:K,NumberControllerBox:Z,NumberControllerSlider:$,FunctionController:tt,ColorController:nt},dom:{dom:q},gui:{GUI:_t},GUI:_t};n.default=vt},function(t,n,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,n){var e=[],i=!0,r=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(i=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw o}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),c=e(0),l=e(174),f=e(25),h=e(46),d=e(49),p=i(d),_=e(82),v=i(_),m=e(244),g=i(m),y=e(245),b=i(y),x=e(246),w=i(x),O=Object.assign({},{select:c.select,zoom:l.zoom,timeFormat:f.timeFormat,timer:h.timer,event:function(){return e(0).event}.bind(void 0)}),j=function(){function t(n,e){a(this,t),this.data=n,this.options=e,this._createSVGObjects(),this._computeStopAreasAggregation(),this._computeProjectNetwork(),this.createVisualizations()}return s(t,[{key:"_createSVGObjects",value:function(){var t=this,n=window.innerWidth-20,e=window.innerHeight-10,i={marey:{top:80,right:50,bottom:20,left:50},map:{top:20,right:20,bottom:20,left:20}};"dual"===this.options.mode?(this.dims={marey:{outerWidth:n*this.options.dual.verticalSplitPercentage,outerHeight:e*this.options.dual.mareyHeightMultiplier},map:{outerWidth:n*(1-this.options.dual.verticalSplitPercentage),outerHeight:e,innerHeight:e-i.map.top-i.map.bottom}},this.dims.marey.innerWidth=this.dims.marey.outerWidth-i.marey.left-i.marey.right,this.dims.marey.innerHeight=this.dims.marey.outerHeight-i.marey.top-i.marey.bottom,this.dims.map.innerWidth=this.dims.map.outerWidth-i.map.left-i.map.right,this.mareySVG=O.select("div.main").append("div").attr("id","marey-container").style("height",e+"px").append("svg").attr("id","marey").attr("width",this.dims.marey.outerWidth).attr("height",this.dims.marey.outerHeight).append("g").attr("transform","translate("+i.marey.left+","+i.marey.top+")")):this.dims={map:{outerWidth:n,outerHeight:e,innerWidth:n-i.map.left-i.map.right,innerHeight:e-i.map.top-i.map.bottom}},this.mapSVG=O.select("div.main").append("div").attr("id","map-container").append("svg").attr("id","map").attr("width",this.dims.map.outerWidth).attr("height",this.dims.map.outerHeight).call(O.zoom().scaleExtent([1,15]).on("zoom",function(){return t.mapSVG.attr("transform",O.event().transform)})).append("g").attr("transform","translate("+i.map.left+","+i.map.top+")")}},{key:"_computeStopAreasAggregation",value:function(){var t={},n=!0,e=!1,i=void 0;try{for(var r,a=Object.entries(this.data.scheduledStopPoints)[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value,c=u(s,2),l=c[0],f=c[1];Object.prototype.hasOwnProperty.call(t,f.area)?t[f.area].stops[l]=new p.default(f.x,f.y):t[f.area]={name:f.name,stops:o({},l,new p.default(f.x,f.y))}}}catch(t){e=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(e)throw i}}var h=!0,d=!1,_=void 0;try{for(var v,m=Object.values(t)[Symbol.iterator]();!(h=(v=m.next()).done);h=!0){var g=v.value,y=p.default.centroid(Object.values(g.stops));g.centroid=y}}catch(t){d=!0,_=t}finally{try{!h&&m.return&&m.return()}finally{if(d)throw _}}this.stopAreasAggregation=t}},{key:"_computeProjectNetwork",value:function(){var t={},n=!0,e=!1,i=void 0;try{for(var o,a=Object.values(this.data.journeyPatterns)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)for(var u=o.value,s=u.pointsInSequence,c=[].concat(r(Array(s.length-1).keys())),l=0;l<c.length;l++){var f=c[l],h=s[f],d=s[f+1],_=this.data.scheduledStopPoints[h],m=this.data.scheduledStopPoints[d],g=this.stopAreasAggregation[_.area].centroid,y=this.stopAreasAggregation[m.area].centroid;t[h+"|"+d]={realSegment:new v.default(new p.default(_.x,_.y),new p.default(m.x,m.y)),stopAreasSegment:new v.default(g,y)}}}catch(t){e=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(e)throw i}}this.projectNetwork=t}},{key:"createVisualizations",value:function(){var t=this;if(this.map=new b.default(this._getBaseMapData(),this.mapSVG,this.dims.map,this.options),"spiralSimulation"===this.options.mode)this.startSpiralSimulation(this.options.spiral.timeMultiplier,this.options.spiral.paramA,this.options.spiral.paramB);else{var n=function(n){t.map.updateData({trips:t._getTripsAtTime(g.default.HHMMSStoSeconds(n),function(n){return n.journeyPatternRef===t.options.dual.journeyPattern})}),t.map._drawTrips()};this.marey=new w.default(this._getMareyData(this.options.dual.journeyPattern),this.mareySVG,this.dims.marey,this.options,n)}}},{key:"_getBaseMapData",value:function(){return{stops:Object.entries(this.data.scheduledStopPoints).map(function(t){var n=u(t,2),e=n[0],i=n[1];return{stopCode:e,position:new p.default(i.x,i.y)}}),stopAreas:this.options.showStopAreas?Object.entries(this.stopAreasAggregation).map(function(t){var n=u(t,2);return{stopAreaCode:n[0],position:n[1].centroid}}):[],links:this.options.showLinks?Object.entries(this.projectNetwork).map(function(t){var n=u(t,2);return{linkID:n[0],segment:n[1].stopAreasSegment}}):[],trips:[]}}},{key:"_getMareyData",value:function(t){var n=this.data.journeyPatterns[t],e=this._getFilteredTrips(function(n){return n.journeyPatternRef===t});return{trips:Object.entries(e).map(function(t){var e=u(t,2);return{tripCode:e[0],tripSchedule:e[1].times.map(function(t,e){return{time:g.default.secondsToHHMMSS(t),distance:n.distances[e]}})}}),stopsDistances:n.distances.map(function(t,e){return{stopCode:n.pointsInSequence[e],distance:t}})}}},{key:"_getTripDistanceAtTime",value:function(t,n){var e=this.data.journeyPatterns[t.journeyPatternRef],i=e.distances;if(t.times[t.times.length-1]===n)return i[i.length-1];for(var o=0,a=[].concat(r(Array(t.times.length-1).keys())),u=0;u<a.length;u++){var s=a[u];if(t.times[s+1]>n){o=s;break}}var c=(n-t.times[o])/(t.times[o+1]-t.times[o]);return i[o]+c*(i[o+1]-i[o])}},{key:"_getTripPositionFromDistance",value:function(t,n){var e=this.data.journeyPatterns[t.journeyPatternRef],i=e.pointsInSequence;if(e.distances[e.distances.length-1]===n){var o=i[i.length-2],a=i[i.length-1];return this.projectNetwork[o+"|"+a].stopAreasSegment.getPointByPercentage(1)}for(var u=-1,s=[].concat(r(Array(e.distances.length-1).keys())),c=0;c<s.length;c++){var l=s[c];if(e.distances[l]<=n&&e.distances[l+1]>n){u=l;break}}var f=i[u],h=i[u+1],d=(n-e.distances[u])/(e.distances[u+1]-e.distances[u]);return this.projectNetwork[f+"|"+h].stopAreasSegment.getPointByPercentage(d)}},{key:"_getFilteredTrips",value:function(t){var n={},e=!0,i=!1,r=void 0;try{for(var o,a=Object.entries(this.data.vehicleJourneys)[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value,c=u(s,2),l=c[0],f=c[1];t(f)&&(n[l]=f)}}catch(t){i=!0,r=t}finally{try{!e&&a.return&&a.return()}finally{if(i)throw r}}return n}},{key:"_getTripsAtTime",value:function(n,e){var i=this._getFilteredTrips(t.isActiveTrip(n)),r=[],o=!0,a=!1,s=void 0;try{for(var c,l=Object.entries(i)[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f=c.value,h=u(f,2),d=h[0],p=h[1];if(void 0===e||e(p)){var _=this._getTripDistanceAtTime(p,n),v=this._getTripPositionFromDistance(p,_);r.push({tripCode:d,position:v})}}}catch(t){a=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}return r}},{key:"startSpiralSimulation",value:function(t,n,e){var i=this,r=O.timeFormat("%H:%M:%S")(new Date),o=g.default.HHMMSStoSeconds(r);this.spiralTimer=O.timer(function(r){var a=r*t/1e3,u=Math.floor(a/n)*e,s=o+(a-u)%(115200-o);i.map.updateData({trips:i._getTripsAtTime(s)}),i.map._drawTrips()})}},{key:"stopSpiralSimulation",value:function(){this.spiralTimer.stop()}}],[{key:"isActiveTrip",value:function(t){return function(n){return n.times[0]<=t&&n.times[n.times.length-1]>=t}}}]),t}();n.default=j},function(t,n,e){"use strict";var i=e(21),r=e(61);n.a=function(t){return Object(r.a)(Object(i.a)(t).call(document.documentElement))}},function(t,n,e){"use strict";var i=e(2),r=e(38);n.a=function(t){"function"!=typeof t&&(t=Object(r.a)(t));for(var n=this._groups,e=n.length,o=new Array(e),a=0;a<e;++a)for(var u,s,c=n[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s);return new i.a(o,this._parents)}},function(t,n,e){"use strict";var i=e(2),r=e(62);n.a=function(t){"function"!=typeof t&&(t=Object(r.a)(t));for(var n=this._groups,e=n.length,o=[],a=[],u=0;u<e;++u)for(var s,c=n[u],l=c.length,f=0;f<l;++f)(s=c[f])&&(o.push(t.call(s,s.__data__,f,c)),a.push(s));return new i.a(o,a)}},function(t,n,e){"use strict";var i=e(2),r=e(63);n.a=function(t){"function"!=typeof t&&(t=Object(r.a)(t));for(var n=this._groups,e=n.length,o=new Array(e),a=0;a<e;++a)for(var u,s=n[a],c=s.length,l=o[a]=[],f=0;f<c;++f)(u=s[f])&&t.call(u,u.__data__,f,s)&&l.push(u);return new i.a(o,this._parents)}},function(t,n,e){"use strict";function i(t,n,e,i,r,o){for(var u,s=0,c=n.length,l=o.length;s<l;++s)(u=n[s])?(u.__data__=o[s],i[s]=u):e[s]=new a.a(t,o[s]);for(;s<c;++s)(u=n[s])&&(r[s]=u)}function r(t,n,e,i,r,o,u){var c,l,f,h={},d=n.length,p=o.length,_=new Array(d);for(c=0;c<d;++c)(l=n[c])&&(_[c]=f=s+u.call(l,l.__data__,c,n),f in h?r[c]=l:h[f]=l);for(c=0;c<p;++c)f=s+u.call(t,o[c],c,o),(l=h[f])?(i[c]=l,l.__data__=o[c],h[f]=null):e[c]=new a.a(t,o[c]);for(c=0;c<d;++c)(l=n[c])&&h[_[c]]===l&&(r[c]=l)}var o=e(2),a=e(64),u=e(145),s="$";n.a=function(t,n){if(!t)return m=new Array(this.size()),d=-1,this.each(function(t){m[++d]=t}),m;var e=n?r:i,a=this._parents,s=this._groups;"function"!=typeof t&&(t=Object(u.a)(t));for(var c=s.length,l=new Array(c),f=new Array(c),h=new Array(c),d=0;d<c;++d){var p=a[d],_=s[d],v=_.length,m=t.call(p,p&&p.__data__,d,a),g=m.length,y=f[d]=new Array(g),b=l[d]=new Array(g);e(p,_,y,b,h[d]=new Array(v),m,n);for(var x,w,O=0,j=0;O<g;++O)if(x=y[O]){for(O>=j&&(j=O+1);!(w=b[j])&&++j<g;);x._next=w||null}}return l=new o.a(l,a),l._enter=f,l._exit=h,l}},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";var i=e(65),r=e(2);n.a=function(){return new r.a(this._exit||this._groups.map(i.a),this._parents)}},function(t,n,e){"use strict";var i=e(2);n.a=function(t){for(var n=this._groups,e=t._groups,r=n.length,o=e.length,a=Math.min(r,o),u=new Array(r),s=0;s<a;++s)for(var c,l=n[s],f=e[s],h=l.length,d=u[s]=new Array(h),p=0;p<h;++p)(c=l[p]||f[p])&&(d[p]=c);for(;s<r;++s)u[s]=n[s];return new i.a(u,this._parents)}},function(t,n,e){"use strict";n.a=function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i,r=t[n],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this}},function(t,n,e){"use strict";function i(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var r=e(2);n.a=function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=i);for(var e=this._groups,o=e.length,a=new Array(o),u=0;u<o;++u){for(var s,c=e[u],l=c.length,f=a[u]=new Array(l),h=0;h<l;++h)(s=c[h])&&(f[h]=s);f.sort(n)}return new r.a(a,this._parents).order()}},function(t,n,e){"use strict";n.a=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},function(t,n,e){"use strict";n.a=function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t}},function(t,n,e){"use strict";n.a=function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null}},function(t,n,e){"use strict";n.a=function(){var t=0;return this.each(function(){++t}),t}},function(t,n,e){"use strict";n.a=function(){return!this.node()}},function(t,n,e){"use strict";n.a=function(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r,o=n[e],a=0,u=o.length;a<u;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this}},function(t,n,e){"use strict";function i(t){return function(){this.removeAttribute(t)}}function r(t){return function(){this.removeAttributeNS(t.space,t.local)}}function o(t,n){return function(){this.setAttribute(t,n)}}function a(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function u(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function s(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var c=e(36);n.a=function(t,n){var e=Object(c.a)(t);if(arguments.length<2){var l=this.node();return e.local?l.getAttributeNS(e.space,e.local):l.getAttribute(e)}return this.each((null==n?e.local?r:i:"function"==typeof n?e.local?s:u:e.local?a:o)(e,n))}},function(t,n,e){"use strict";function i(t){return function(){delete this[t]}}function r(t,n){return function(){this[t]=n}}function o(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}n.a=function(t,n){return arguments.length>1?this.each((null==n?i:"function"==typeof n?o:r)(t,n)):this.node()[t]}},function(t,n,e){"use strict";function i(t){return t.trim().split(/^|\s+/)}function r(t){return t.classList||new o(t)}function o(t){this._node=t,this._names=i(t.getAttribute("class")||"")}function a(t,n){for(var e=r(t),i=-1,o=n.length;++i<o;)e.add(n[i])}function u(t,n){for(var e=r(t),i=-1,o=n.length;++i<o;)e.remove(n[i])}function s(t){return function(){a(this,t)}}function c(t){return function(){u(this,t)}}function l(t,n){return function(){(n.apply(this,arguments)?a:u)(this,t)}}o.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}},n.a=function(t,n){var e=i(t+"");if(arguments.length<2){for(var o=r(this.node()),a=-1,u=e.length;++a<u;)if(!o.contains(e[a]))return!1;return!0}return this.each(("function"==typeof n?l:n?s:c)(e,n))}},function(t,n,e){"use strict";function i(){this.textContent=""}function r(t){return function(){this.textContent=t}}function o(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}n.a=function(t){return arguments.length?this.each(null==t?i:("function"==typeof t?o:r)(t)):this.node().textContent}},function(t,n,e){"use strict";function i(){this.innerHTML=""}function r(t){return function(){this.innerHTML=t}}function o(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}n.a=function(t){return arguments.length?this.each(null==t?i:("function"==typeof t?o:r)(t)):this.node().innerHTML}},function(t,n,e){"use strict";function i(){this.nextSibling&&this.parentNode.appendChild(this)}n.a=function(){return this.each(i)}},function(t,n,e){"use strict";function i(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}n.a=function(){return this.each(i)}},function(t,n,e){"use strict";var i=e(21);n.a=function(t){var n="function"==typeof t?t:Object(i.a)(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}},function(t,n,e){"use strict";function i(){return null}var r=e(21),o=e(38);n.a=function(t,n){var e="function"==typeof t?t:Object(r.a)(t),a=null==n?i:"function"==typeof n?n:Object(o.a)(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),a.apply(this,arguments)||null)})}},function(t,n,e){"use strict";function i(){var t=this.parentNode;t&&t.removeChild(this)}n.a=function(){return this.each(i)}},function(t,n,e){"use strict";function i(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function r(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}n.a=function(t){return this.select(t?r:i)}},function(t,n,e){"use strict";n.a=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},function(t,n,e){"use strict";function i(t,n,e){var i=Object(a.a)(t),r=i.CustomEvent;"function"==typeof r?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function r(t,n){return function(){return i(this,t,n)}}function o(t,n){return function(){return i(this,t,n.apply(this,arguments))}}var a=e(39);n.a=function(t,n){return this.each(("function"==typeof n?o:r)(t,n))}},function(t,n,e){"use strict";function i(){return new r}function r(){this._="@"+(++o).toString(36)}n.a=i;var o=0;r.prototype=i.prototype={constructor:r,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},function(t,n,e){"use strict";var i=e(41),r=e(22);n.a=function(t){var n=Object(i.a)();return n.changedTouches&&(n=n.changedTouches[0]),Object(r.a)(t,n)}},function(t,n,e){"use strict";var i=e(2);n.a=function(t){return"string"==typeof t?new i.a([document.querySelectorAll(t)],[document.documentElement]):new i.a([null==t?[]:t],i.c)}},function(t,n,e){"use strict";var i=e(41),r=e(22);n.a=function(t,n,e){arguments.length<3&&(e=n,n=Object(i.a)().changedTouches);for(var o,a=0,u=n?n.length:0;a<u;++a)if((o=n[a]).identifier===e)return Object(r.a)(t,o);return null}},function(t,n,e){"use strict";var i=e(41),r=e(22);n.a=function(t,n){null==n&&(n=Object(i.a)().touches);for(var e=0,o=n?n.length:0,a=new Array(o);e<o;++e)a[e]=Object(r.a)(t,n[e]);return a}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(175);e.d(n,"zoom",function(){return i.a});var r=e(79);e.d(n,"zoomTransform",function(){return r.b}),e.d(n,"zoomIdentity",function(){return r.c})},function(t,n,e){"use strict";function i(){return!h.event.button}function r(){var t,n,e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,t=e.width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function o(){return this.__zoom||v.c}function a(){return-h.event.deltaY*(h.event.deltaMode?120:1)/500}function u(){return"ontouchstart"in this}function s(t,n,e){var i=t.invertX(n[0][0])-e[0][0],r=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var c=e(19),l=e(176),f=e(7),h=e(0),d=e(192),p=e(226),_=e(227),v=e(79),m=e(228);n.a=function(){function t(t){t.property("__zoom",o).on("wheel.zoom",w).on("mousedown.zoom",O).on("dblclick.zoom",j).filter(D).on("touchstart.zoom",M).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(t,n){return n=Math.max(L[0],Math.min(L[1],n)),n===t.k?t:new v.a(n,t.x,t.y)}function e(t,n,e){var i=n[0]-e[0]*t.k,r=n[1]-e[1]*t.k;return i===t.x&&r===t.y?t:new v.a(t.k,i,r)}function g(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function y(t,n,e){t.on("start.zoom",function(){b(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).end()}).tween("zoom",function(){var t=this,i=arguments,r=b(t,i),o=E.apply(t,i),a=e||g(o),u=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),s=t.__zoom,c="function"==typeof n?n.apply(t,i):n,l=F(s.invert(a).concat(u/s.k),c.invert(a).concat(u/c.k));return function(t){if(1===t)t=c;else{var n=l(t),e=u/n[2];t=new v.a(e,a[0]-n[0]*e,a[1]-n[1]*e)}r.zoom(null,t)}})}function b(t,n){for(var e,i=0,r=z.length;i<r;++i)if((e=z[i]).that===t)return e;return new x(t,n)}function x(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=E.apply(t,n)}function w(){function t(){i.wheel=null,i.end()}if(C.apply(this,arguments)){var i=b(this,arguments),r=this.__zoom,o=Math.max(L[0],Math.min(L[1],r.k*Math.pow(2,P.apply(this,arguments)))),a=Object(h.mouse)(this);if(i.wheel)i.mouse[0][0]===a[0]&&i.mouse[0][1]===a[1]||(i.mouse[1]=r.invert(i.mouse[0]=a)),clearTimeout(i.wheel);else{if(r.k===o)return;i.mouse=[a,r.invert(a)],Object(d.a)(this),i.start()}Object(m.a)(),i.wheel=setTimeout(t,I),i.zoom("mouse",N(e(n(r,o),i.mouse[0],i.mouse[1]),i.extent,R))}}function O(){function t(){if(Object(m.a)(),!i.moved){var t=h.event.clientX-a,n=h.event.clientY-u;i.moved=t*t+n*n>Y}i.zoom("mouse",N(e(i.that.__zoom,i.mouse[0]=Object(h.mouse)(i.that),i.mouse[1]),i.extent,R))}function n(){r.on("mousemove.zoom mouseup.zoom",null),Object(l.b)(h.event.view,i.moved),Object(m.a)(),i.end()}if(!S&&C.apply(this,arguments)){var i=b(this,arguments),r=Object(h.select)(h.event.view).on("mousemove.zoom",t,!0).on("mouseup.zoom",n,!0),o=Object(h.mouse)(this),a=h.event.clientX,u=h.event.clientY;Object(l.a)(h.event.view),Object(m.b)(),i.mouse=[o,this.__zoom.invert(o)],Object(d.a)(this),i.start()}}function j(){if(C.apply(this,arguments)){var i=this.__zoom,r=Object(h.mouse)(this),o=i.invert(r),a=i.k*(h.event.shiftKey?.5:2),u=N(e(n(i,a),r,o),E.apply(this,arguments),R);Object(m.a)(),H>0?Object(h.select)(this).transition().duration(H).call(y,u,r):Object(h.select)(this).call(t.transform,u)}}function M(){if(C.apply(this,arguments)){var t,n,e,i,r=b(this,arguments),o=h.event.changedTouches,a=o.length;for(Object(m.b)(),n=0;n<a;++n)e=o[n],i=Object(h.touch)(this,o,e.identifier),i=[i,this.__zoom.invert(i),e.identifier],r.touch0?r.touch1||(r.touch1=i):(r.touch0=i,t=!0);if(T&&(T=clearTimeout(T),!r.touch1))return r.end(),void((i=Object(h.select)(this).on("dblclick.zoom"))&&i.apply(this,arguments));t&&(T=setTimeout(function(){T=null},U),Object(d.a)(this),r.start())}}function k(){var t,i,r,o,a=b(this,arguments),u=h.event.changedTouches,s=u.length;for(Object(m.a)(),T&&(T=clearTimeout(T)),t=0;t<s;++t)i=u[t],r=Object(h.touch)(this,u,i.identifier),a.touch0&&a.touch0[2]===i.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===i.identifier&&(a.touch1[0]=r);if(i=a.that.__zoom,a.touch1){var c=a.touch0[0],l=a.touch0[1],f=a.touch1[0],d=a.touch1[1],p=(p=f[0]-c[0])*p+(p=f[1]-c[1])*p,_=(_=d[0]-l[0])*_+(_=d[1]-l[1])*_;i=n(i,Math.sqrt(p/_)),r=[(c[0]+f[0])/2,(c[1]+f[1])/2],o=[(l[0]+d[0])/2,(l[1]+d[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",N(e(i,r,o),a.extent,R))}function A(){var t,n,e=b(this,arguments),i=h.event.changedTouches,r=i.length;for(Object(m.b)(),S&&clearTimeout(S),S=setTimeout(function(){S=null},U),t=0;t<r;++t)n=i[t],e.touch0&&e.touch0[2]===n.identifier?delete e.touch0:e.touch1&&e.touch1[2]===n.identifier&&delete e.touch1;e.touch1&&!e.touch0&&(e.touch0=e.touch1,delete e.touch1),e.touch0?e.touch0[1]=this.__zoom.invert(e.touch0[0]):e.end()}var T,S,C=i,E=r,N=s,P=a,D=u,L=[0,1/0],R=[[-1/0,-1/0],[1/0,1/0]],H=250,F=f.h,z=[],B=Object(c.a)("start","zoom","end"),U=500,I=150,Y=0;return t.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",o),t!==e?y(t,n):e.interrupt().each(function(){b(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},t.scaleBy=function(n,e){t.scaleTo(n,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},t.scaleTo=function(i,r){t.transform(i,function(){var t=E.apply(this,arguments),i=this.__zoom,o=g(t),a=i.invert(o),u="function"==typeof r?r.apply(this,arguments):r;return N(e(n(i,u),o,a),t,R)})},t.translateBy=function(n,e,i){t.transform(n,function(){return N(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof i?i.apply(this,arguments):i),E.apply(this,arguments),R)})},t.translateTo=function(n,e,i){t.transform(n,function(){var t=E.apply(this,arguments),n=this.__zoom,r=g(t);return N(v.c.translate(r[0],r[1]).scale(n.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof i?-i.apply(this,arguments):-i),t,R)})},x.prototype={start:function(){return 1==++this.active&&(this.index=z.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(z.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(n){Object(h.customEvent)(new _.a(t,n,this.that.__zoom),B.apply,B,[n,this.that,this.args])}},t.wheelDelta=function(n){return arguments.length?(P="function"==typeof n?n:Object(p.a)(+n),t):P},t.filter=function(n){return arguments.length?(C="function"==typeof n?n:Object(p.a)(!!n),t):C},t.touchable=function(n){return arguments.length?(D="function"==typeof n?n:Object(p.a)(!!n),t):D},t.extent=function(n){return arguments.length?(E="function"==typeof n?n:Object(p.a)([[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]]),t):E},t.scaleExtent=function(n){return arguments.length?(L[0]=+n[0],L[1]=+n[1],t):[L[0],L[1]]},t.translateExtent=function(n){return arguments.length?(R[0][0]=+n[0][0],R[1][0]=+n[1][0],R[0][1]=+n[0][1],R[1][1]=+n[1][1],t):[[R[0][0],R[0][1]],[R[1][0],R[1][1]]]},t.constrain=function(n){return arguments.length?(N=n,t):N},t.duration=function(n){return arguments.length?(H=+n,t):H},t.interpolate=function(n){return arguments.length?(F=n,t):F},t.on=function(){var n=B.on.apply(B,arguments);return n===B?t:n},t.clickDistance=function(n){return arguments.length?(Y=(n=+n)*n,t):Math.sqrt(Y)},t}},function(t,n,e){"use strict";var i=(e(177),e(67));e.d(n,"a",function(){return i.a}),e.d(n,"b",function(){return i.b})},function(t,n,e){"use strict";e(19),e(0),e(67),e(68),e(178),e(179)},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";function i(t,n,e,i,r,o,a,u,s,c){this.target=t,this.type=n,this.subject=e,this.identifier=i,this.active=r,this.x=o,this.y=a,this.dx=u,this.dy=s,this._=c}n.a=i,i.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}},function(t,n,e){"use strict";function i(t){if(t instanceof o)return new o(t.l,t.a,t.b,t.opacity);if(t instanceof h){var n=t.h*_.a;return new o(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof p.b||(t=Object(p.h)(t));var e=c(t.r),i=c(t.g),r=c(t.b),u=a((.4124564*e+.3575761*i+.1804375*r)/v),s=a((.2126729*e+.7151522*i+.072175*r)/m);return new o(116*s-16,500*(u-s),200*(s-a((.0193339*e+.119192*i+.9503041*r)/g)),t.opacity)}function r(t,n,e,r){return 1===arguments.length?i(t):new o(t,n,e,null==r?1:r)}function o(t,n,e,i){this.l=+t,this.a=+n,this.b=+e,this.opacity=+i}function a(t){return t>w?Math.pow(t,1/3):t/x+y}function u(t){return t>b?t*t*t:x*(t-y)}function s(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function c(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function l(t){if(t instanceof h)return new h(t.h,t.c,t.l,t.opacity);t instanceof o||(t=i(t));var n=Math.atan2(t.b,t.a)*_.b;return new h(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function f(t,n,e,i){return 1===arguments.length?l(t):new h(t,n,e,null==i?1:i)}function h(t,n,e,i){this.h=+t,this.c=+n,this.l=+e,this.opacity=+i}n.a=r,n.b=f;var d=e(44),p=e(43),_=e(69),v=.95047,m=1,g=1.08883,y=4/29,b=6/29,x=3*b*b,w=b*b*b;Object(d.a)(o,r,Object(d.b)(p.a,{brighter:function(t){return new o(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new o(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=m*u(t),n=v*u(n),e=g*u(e),new p.b(s(3.2404542*n-1.5371385*t-.4985314*e),s(-.969266*n+1.8760108*t+.041556*e),s(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}})),Object(d.a)(h,f,Object(d.b)(p.a,{brighter:function(t){return new h(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new h(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return i(this).rgb()}}))},function(t,n,e){"use strict";function i(t){if(t instanceof o)return new o(t.h,t.s,t.l,t.opacity);t instanceof u.b||(t=Object(u.h)(t));var n=t.r/255,e=t.g/255,i=t.b/255,r=(v*i+p*n-_*e)/(v+p-_),a=i-r,c=(d*(e-r)-f*a)/h,l=Math.sqrt(c*c+a*a)/(d*r*(1-r)),m=l?Math.atan2(c,a)*s.b-120:NaN;return new o(m<0?m+360:m,l,r,t.opacity)}function r(t,n,e,r){return 1===arguments.length?i(t):new o(t,n,e,null==r?1:r)}function o(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}n.a=r;var a=e(44),u=e(43),s=e(69),c=-.14861,l=1.78277,f=-.29227,h=-.90649,d=1.97294,p=d*h,_=d*l,v=l*f-h*c;Object(a.a)(o,r,Object(a.b)(u.a,{brighter:function(t){return t=null==t?u.c:Math.pow(u.c,t),new o(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?u.d:Math.pow(u.d,t),new o(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*s.a,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),i=Math.cos(t),r=Math.sin(t);return new u.b(255*(n+e*(c*i+l*r)),255*(n+e*(f*i+h*r)),255*(n+e*(d*i)),this.opacity)}}))},function(t,n,e){"use strict";n.a=function(t,n){return t=+t,n-=t,function(e){return Math.round(t+n*e)}}},function(t,n,e){"use strict";function i(t,n,e,i){function o(t){return t.length?t.pop()+" ":""}function a(t,i,o,a,u,s){if(t!==o||i!==a){var c=u.push("translate(",null,n,null,e);s.push({i:c-4,x:Object(r.a)(t,o)},{i:c-2,x:Object(r.a)(i,a)})}else(o||a)&&u.push("translate("+o+n+a+e)}function u(t,n,e,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:e.push(o(e)+"rotate(",null,i)-2,x:Object(r.a)(t,n)})):n&&e.push(o(e)+"rotate("+n+i)}function s(t,n,e,a){t!==n?a.push({i:e.push(o(e)+"skewX(",null,i)-2,x:Object(r.a)(t,n)}):n&&e.push(o(e)+"skewX("+n+i)}function c(t,n,e,i,a,u){if(t!==e||n!==i){var s=a.push(o(a)+"scale(",null,",",null,")");u.push({i:s-4,x:Object(r.a)(t,e)},{i:s-2,x:Object(r.a)(n,i)})}else 1===e&&1===i||a.push(o(a)+"scale("+e+","+i+")")}return function(n,e){var i=[],r=[];return n=t(n),e=t(e),a(n.translateX,n.translateY,e.translateX,e.translateY,i,r),u(n.rotate,e.rotate,i,r),s(n.skewX,e.skewX,i,r),c(n.scaleX,n.scaleY,e.scaleX,e.scaleY,i,r),n=e=null,function(t){for(var n,e=-1,o=r.length;++e<o;)i[(n=r[e]).i]=n.x(t);return i.join("")}}}e.d(n,"a",function(){return a}),e.d(n,"b",function(){return u});var r=e(23),o=e(184),a=i(o.a,"px, ","px)","deg)"),u=i(o.b,", ",")",")")},function(t,n,e){"use strict";function i(t){return"none"===t?c.b:(o||(o=document.createElement("DIV"),a=document.documentElement,u=document.defaultView),o.style.transform=t,t=u.getComputedStyle(a.appendChild(o),null).getPropertyValue("transform"),a.removeChild(o),t=t.slice(7,-1).split(","),Object(c.a)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function r(t){return null==t?c.b:(s||(s=document.createElementNS("http://www.w3.org/2000/svg","g")),s.setAttribute("transform",t),(t=s.transform.baseVal.consolidate())?(t=t.matrix,Object(c.a)(t.a,t.b,t.c,t.d,t.e,t.f)):c.b)}n.a=i,n.b=r;var o,a,u,s,c=e(185)},function(t,n,e){"use strict";e.d(n,"b",function(){return r});var i=180/Math.PI,r={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};n.a=function(t,n,e,r,o,a){var u,s,c;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s,c/=s),t*r<n*e&&(t=-t,n=-n,c=-c,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(n,t)*i,skewX:Math.atan(c)*i,scaleX:u,scaleY:s}}},function(t,n,e){"use strict";function i(t){return((t=Math.exp(t))+1/t)/2}function r(t){return((t=Math.exp(t))-1/t)/2}function o(t){return((t=Math.exp(2*t))-1)/(t+1)}var a=Math.SQRT2;n.a=function(t,n){var e,u,s=t[0],c=t[1],l=t[2],f=n[0],h=n[1],d=n[2],p=f-s,_=h-c,v=p*p+_*_;if(v<1e-12)u=Math.log(d/l)/a,e=function(t){return[s+t*p,c+t*_,l*Math.exp(a*t*u)]};else{var m=Math.sqrt(v),g=(d*d-l*l+4*v)/(2*l*2*m),y=(d*d-l*l-4*v)/(2*d*2*m),b=Math.log(Math.sqrt(g*g+1)-g),x=Math.log(Math.sqrt(y*y+1)-y);u=(x-b)/a,e=function(t){var n=t*u,e=i(b),f=l/(2*m)*(e*o(a*n+b)-r(b));return[s+f*p,c+f*_,l*e/i(a*n+b)]}}return e.duration=1e3*u,e}},function(t,n,e){"use strict";function i(t){return function(n,e){var i=t((n=Object(r.d)(n)).h,(e=Object(r.d)(e)).h),a=Object(o.a)(n.s,e.s),u=Object(o.a)(n.l,e.l),s=Object(o.a)(n.opacity,e.opacity);return function(t){return n.h=i(t),n.s=a(t),n.l=u(t),n.opacity=s(t),n+""}}}var r=e(8),o=e(12);i(o.c),i(o.a)},function(t,n,e){"use strict";e(8),e(12)},function(t,n,e){"use strict";function i(t){return function(n,e){var i=t((n=Object(r.c)(n)).h,(e=Object(r.c)(e)).h),a=Object(o.a)(n.c,e.c),u=Object(o.a)(n.l,e.l),s=Object(o.a)(n.opacity,e.opacity);return function(t){return n.h=i(t),n.c=a(t),n.l=u(t),n.opacity=s(t),n+""}}}var r=e(8),o=e(12);i(o.c),i(o.a)},function(t,n,e){"use strict";function i(t){return function n(e){function i(n,i){var a=t((n=Object(r.b)(n)).h,(i=Object(r.b)(i)).h),u=Object(o.a)(n.s,i.s),s=Object(o.a)(n.l,i.l),c=Object(o.a)(n.opacity,i.opacity);return function(t){return n.h=a(t),n.s=u(t),n.l=s(Math.pow(t,e)),n.opacity=c(t),n+""}}return e=+e,i.gamma=n,i}(1)}var r=e(8),o=e(12);i(o.c),i(o.a)},function(t,n,e){"use strict"},function(t,n,e){"use strict";var i=(e(193),e(6),e(225),e(77));e.d(n,"a",function(){return i.a})},function(t,n,e){"use strict";var i=e(0),r=e(194),o=e(197);i.selection.prototype.interrupt=r.a,i.selection.prototype.transition=o.a},function(t,n,e){"use strict";var i=e(77);n.a=function(t){return this.each(function(){Object(i.a)(this,t)})}},function(t,n,e){"use strict";var i=e(47);n.a=function(t,n,e){var r=new i.a;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r}},function(t,n,e){"use strict";var i=e(47);n.a=function(t,n,e){var r=new i.a,o=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?Object(i.b)():+e,r.restart(function i(a){a+=o,r.restart(i,o+=n,e),t(a)},n,e),r)}},function(t,n,e){"use strict";function i(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return s.time=Object(u.now)(),s;return e}var r=e(6),o=e(3),a=e(214),u=e(46),s={time:null,delay:0,duration:250,ease:a.a};n.a=function(t){var n,e;t instanceof r.a?(n=t._id,t=t._name):(n=Object(r.b)(),(e=s).time=Object(u.now)(),t=null==t?null:t+"");for(var a=this._groups,c=a.length,l=0;l<c;++l)for(var f,h=a[l],d=h.length,p=0;p<d;++p)(f=h[p])&&Object(o.e)(f,t,n,p,h,e||i(f,n));return new r.a(a,this._parents,t,n)}},function(t,n,e){"use strict";function i(t){return function(){this.removeAttribute(t)}}function r(t){return function(){this.removeAttributeNS(t.space,t.local)}}function o(t,n,e){var i,r;return function(){var o=this.getAttribute(t);return o===e?null:o===i?r:r=n(i=o,e)}}function a(t,n,e){var i,r;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===i?r:r=n(i=o,e)}}function u(t,n,e){var i,r,o;return function(){var a,u=e(this);return null==u?void this.removeAttribute(t):(a=this.getAttribute(t),a===u?null:a===i&&u===r?o:o=n(i=a,r=u))}}function s(t,n,e){var i,r,o;return function(){var a,u=e(this);return null==u?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),a===u?null:a===i&&u===r?o:o=n(i=a,r=u))}}var c=e(7),l=e(0),f=e(24),h=e(78);n.a=function(t,n){var e=Object(l.namespace)(t),d="transform"===e?c.g:h.a;return this.attrTween(t,"function"==typeof n?(e.local?s:u)(e,d,Object(f.b)(this,"attr."+t,n)):null==n?(e.local?r:i)(e):(e.local?a:o)(e,d,n+""))}},function(t,n,e){"use strict";function i(t,n){function e(){var e=this,i=n.apply(e,arguments);return i&&function(n){e.setAttributeNS(t.space,t.local,i(n))}}return e._value=n,e}function r(t,n){function e(){var e=this,i=n.apply(e,arguments);return i&&function(n){e.setAttribute(t,i(n))}}return e._value=n,e}var o=e(0);n.a=function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var a=Object(o.namespace)(t);return this.tween(e,(a.local?i:r)(a,n))}},function(t,n,e){"use strict";function i(t,n){return function(){Object(o.g)(this,t).delay=+n.apply(this,arguments)}}function r(t,n){return n=+n,function(){Object(o.g)(this,t).delay=n}}var o=e(3);n.a=function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?i:r)(n,t)):Object(o.f)(this.node(),n).delay}},function(t,n,e){"use strict";function i(t,n){return function(){Object(o.h)(this,t).duration=+n.apply(this,arguments)}}function r(t,n){return n=+n,function(){Object(o.h)(this,t).duration=n}}var o=e(3);n.a=function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?i:r)(n,t)):Object(o.f)(this.node(),n).duration}},function(t,n,e){"use strict";function i(t,n){if("function"!=typeof n)throw new Error;return function(){Object(r.h)(this,t).ease=n}}var r=e(3);n.a=function(t){var n=this._id;return arguments.length?this.each(i(n,t)):Object(r.f)(this.node(),n).ease}},function(t,n,e){"use strict";var i=e(0),r=e(6);n.a=function(t){"function"!=typeof t&&(t=Object(i.matcher)(t));for(var n=this._groups,e=n.length,o=new Array(e),a=0;a<e;++a)for(var u,s=n[a],c=s.length,l=o[a]=[],f=0;f<c;++f)(u=s[f])&&t.call(u,u.__data__,f,s)&&l.push(u);return new r.a(o,this._parents,this._name,this._id)}},function(t,n,e){"use strict";var i=e(6);n.a=function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,o=e.length,a=Math.min(r,o),u=new Array(r),s=0;s<a;++s)for(var c,l=n[s],f=e[s],h=l.length,d=u[s]=new Array(h),p=0;p<h;++p)(c=l[p]||f[p])&&(d[p]=c);for(;s<r;++s)u[s]=n[s];return new i.a(u,this._parents,this._name,this._id)}},function(t,n,e){"use strict";function i(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}function r(t,n,e){var r,a,u=i(n)?o.g:o.h;return function(){var i=u(this,t),o=i.on;o!==r&&(a=(r=o).copy()).on(n,e),i.on=a}}var o=e(3);n.a=function(t,n){var e=this._id;return arguments.length<2?Object(o.f)(this.node(),e).on.on(t):this.each(r(e,t,n))}},function(t,n,e){"use strict";function i(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}n.a=function(){return this.on("end.remove",i(this._id))}},function(t,n,e){"use strict";var i=e(0),r=e(6),o=e(3);n.a=function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Object(i.selector)(t));for(var a=this._groups,u=a.length,s=new Array(u),c=0;c<u;++c)for(var l,f,h=a[c],d=h.length,p=s[c]=new Array(d),_=0;_<d;++_)(l=h[_])&&(f=t.call(l,l.__data__,_,h))&&("__data__"in l&&(f.__data__=l.__data__),p[_]=f,Object(o.e)(p[_],n,e,_,p,Object(o.f)(l,e)));return new r.a(s,this._parents,n,e)}},function(t,n,e){"use strict";var i=e(0),r=e(6),o=e(3);n.a=function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Object(i.selectorAll)(t));for(var a=this._groups,u=a.length,s=[],c=[],l=0;l<u;++l)for(var f,h=a[l],d=h.length,p=0;p<d;++p)if(f=h[p]){for(var _,v=t.call(f,f.__data__,p,h),m=Object(o.f)(f,e),g=0,y=v.length;g<y;++g)(_=v[g])&&Object(o.e)(_,n,e,g,v,m);s.push(v),c.push(f)}return new r.a(s,c,n,e)}},function(t,n,e){"use strict";var i=e(0),r=i.selection.prototype.constructor;n.a=function(){return new r(this._groups,this._parents)}},function(t,n,e){"use strict";function i(t,n){var e,i,r;return function(){var o=Object(s.style)(this,t),a=(this.style.removeProperty(t),Object(s.style)(this,t));return o===a?null:o===e&&a===i?r:r=n(e=o,i=a)}}function r(t){return function(){this.style.removeProperty(t)}}function o(t,n,e){var i,r;return function(){var o=Object(s.style)(this,t);return o===e?null:o===i?r:r=n(i=o,e)}}function a(t,n,e){var i,r,o;return function(){var a=Object(s.style)(this,t),u=e(this);return null==u&&(this.style.removeProperty(t),u=Object(s.style)(this,t)),a===u?null:a===i&&u===r?o:o=n(i=a,r=u)}}var u=e(7),s=e(0),c=e(24),l=e(78);n.a=function(t,n,e){var s="transform"==(t+="")?u.f:l.a;return null==n?this.styleTween(t,i(t,s)).on("end.style."+t,r(t)):this.styleTween(t,"function"==typeof n?a(t,s,Object(c.b)(this,"style."+t,n)):o(t,s,n+""),e)}},function(t,n,e){"use strict";function i(t,n,e){function i(){var i=this,r=n.apply(i,arguments);return r&&function(n){i.style.setProperty(t,r(n),e)}}return i._value=n,i}n.a=function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,i(t,n,null==e?"":e))}},function(t,n,e){"use strict";function i(t){return function(){this.textContent=t}}function r(t){return function(){var n=t(this);this.textContent=null==n?"":n}}var o=e(24);n.a=function(t){return this.tween("text","function"==typeof t?r(Object(o.b)(this,"text",t)):i(null==t?"":t+""))}},function(t,n,e){"use strict";var i=e(6),r=e(3);n.a=function(){for(var t=this._name,n=this._id,e=Object(i.b)(),o=this._groups,a=o.length,u=0;u<a;++u)for(var s,c=o[u],l=c.length,f=0;f<l;++f)if(s=c[f]){var h=Object(r.f)(s,n);Object(r.e)(s,t,e,f,c,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new i.a(o,this._parents,t,e)}},function(t,n,e){"use strict";var i=(e(215),e(216),e(217));e.d(n,"a",function(){return i.a});e(218),e(219),e(220),e(221),e(222),e(223),e(224)},function(t,n,e){"use strict"},function(t,n,e){"use strict"},function(t,n,e){"use strict";function i(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}n.a=i},function(t,n,e){"use strict";(function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e})(3),function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3)},function(t,n,e){"use strict";Math.PI},function(t,n,e){"use strict"},function(t,n,e){"use strict"},function(t,n,e){"use strict"},function(t,n,e){"use strict";(function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e})(1.70158),function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158)},function(t,n,e){"use strict";var i=2*Math.PI;(function t(n,e){function r(t){return n*Math.pow(2,10*--t)*Math.sin((o-t)/e)}var o=Math.asin(1/(n=Math.max(1,n)))*(e/=i);return r.amplitude=function(n){return t(n,e*i)},r.period=function(e){return t(n,e)},r})(1,.3),function t(n,e){function r(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+o)/e)}var o=Math.asin(1/(n=Math.max(1,n)))*(e/=i);return r.amplitude=function(n){return t(n,e*i)},r.period=function(e){return t(n,e)},r}(1,.3),function t(n,e){function r(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((o-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((o+t)/e))/2}var o=Math.asin(1/(n=Math.max(1,n)))*(e/=i);return r.amplitude=function(n){return t(n,e*i)},r.period=function(e){return t(n,e)},r}(1,.3)},function(t,n,e){"use strict";e(6),e(3)},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";function i(t,n,e){this.target=t,this.type=n,this.transform=e}n.a=i},function(t,n,e){"use strict";function i(){r.event.stopImmediatePropagation()}n.b=i;var r=e(0);n.a=function(){r.event.preventDefault(),r.event.stopImmediatePropagation()}},function(t,n,e){"use strict";e.d(n,"b",function(){return o});var i=e(1),r=Object(i.a)(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Object(i.a)(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):r:null},n.a=r;var o=r.range},function(t,n,e){"use strict";e.d(n,"b",function(){return a});var i=e(1),r=e(4),o=Object(i.a)(function(t){t.setTime(Math.floor(t/r.d)*r.d)},function(t,n){t.setTime(+t+n*r.d)},function(t,n){return(n-t)/r.d},function(t){return t.getUTCSeconds()});n.a=o;var a=o.range},function(t,n,e){"use strict";e.d(n,"b",function(){return a});var i=e(1),r=e(4),o=Object(i.a)(function(t){t.setTime(Math.floor(t/r.c)*r.c)},function(t,n){t.setTime(+t+n*r.c)},function(t,n){return(n-t)/r.c},function(t){return t.getMinutes()});n.a=o;var a=o.range},function(t,n,e){"use strict";e.d(n,"b",function(){return a});var i=e(1),r=e(4),o=Object(i.a)(function(t){var n=t.getTimezoneOffset()*r.c%r.b;n<0&&(n+=r.b),t.setTime(Math.floor((+t-n)/r.b)*r.b+n)},function(t,n){t.setTime(+t+n*r.b)},function(t,n){return(n-t)/r.b},function(t){return t.getHours()});n.a=o;var a=o.range},function(t,n,e){"use strict";e.d(n,"a",function(){return a});var i=e(1),r=e(4),o=Object(i.a)(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*r.c)/r.a},function(t){return t.getDate()-1});n.b=o;var a=o.range},function(t,n,e){"use strict";function i(t){return Object(r.a)(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*o.c)/o.e})}e.d(n,"g",function(){return a}),e.d(n,"c",function(){return u}),e.d(n,"k",function(){return s}),e.d(n,"m",function(){return c}),e.d(n,"i",function(){return l}),e.d(n,"a",function(){return f}),e.d(n,"e",function(){return h}),e.d(n,"h",function(){return d}),e.d(n,"d",function(){return p}),e.d(n,"l",function(){return _}),e.d(n,"n",function(){return v}),e.d(n,"j",function(){return m}),e.d(n,"b",function(){return g}),e.d(n,"f",function(){return y});var r=e(1),o=e(4),a=i(0),u=i(1),s=i(2),c=i(3),l=i(4),f=i(5),h=i(6),d=a.range,p=u.range,_=s.range,v=c.range,m=l.range,g=f.range,y=h.range},function(t,n,e){"use strict";e.d(n,"b",function(){return o});var i=e(1),r=Object(i.a)(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()});n.a=r;var o=r.range},function(t,n,e){"use strict";e.d(n,"b",function(){return o});var i=e(1),r=Object(i.a)(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});r.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Object(i.a)(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null},n.a=r;var o=r.range},function(t,n,e){"use strict";e.d(n,"b",function(){return a});var i=e(1),r=e(4),o=Object(i.a)(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*r.c)},function(t,n){return(n-t)/r.c},function(t){return t.getUTCMinutes()});n.a=o;var a=o.range},function(t,n,e){"use strict";e.d(n,"b",function(){return a});var i=e(1),r=e(4),o=Object(i.a)(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*r.b)},function(t,n){return(n-t)/r.b},function(t){return t.getUTCHours()});n.a=o;var a=o.range},function(t,n,e){"use strict";e.d(n,"b",function(){return a});var i=e(1),r=e(4),o=Object(i.a)(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/r.a},function(t){return t.getUTCDate()-1});n.a=o;var a=o.range},function(t,n,e){"use strict";function i(t){return Object(r.a)(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/o.e})}e.d(n,"g",function(){return a}),e.d(n,"c",function(){return u}),e.d(n,"k",function(){return s}),e.d(n,"m",function(){return c}),e.d(n,"i",function(){return l}),e.d(n,"a",function(){return f}),e.d(n,"e",function(){return h}),e.d(n,"h",function(){return d}),e.d(n,"d",function(){return p}),e.d(n,"l",function(){return _}),e.d(n,"n",function(){return v}),e.d(n,"j",function(){return m}),e.d(n,"b",function(){return g}),e.d(n,"f",function(){return y});var r=e(1),o=e(4),a=i(0),u=i(1),s=i(2),c=i(3),l=i(4),f=i(5),h=i(6),d=a.range,p=u.range,_=s.range,v=c.range,m=l.range,g=f.range,y=h.range},function(t,n,e){"use strict";e.d(n,"b",function(){return o});var i=e(1),r=Object(i.a)(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()});n.a=r;var o=r.range},function(t,n,e){"use strict";e.d(n,"b",function(){return o});var i=e(1),r=Object(i.a)(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});r.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Object(i.a)(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null},n.a=r;var o=r.range},function(t,n,e){"use strict";function i(t){var n=new Date(t);return isNaN(n)?null:n}var r=e(81),o=e(48),a=+new Date("2000-01-01T00:00:00.000Z")?i:Object(o.e)(r.b);n.a=a},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,n){var e=[],i=!0,r=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(i=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw o}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),a=function(){function t(){i(this,t)}return o(t,null,[{key:"HHMMSStoSeconds",value:function(t){var n=t.split(":"),e=r(n,3),i=e[0],o=e[1],a=e[2];return 3600*parseInt(i,10)+60*parseInt(o,10)+parseInt(a,10)}},{key:"secondsToHHMMSS",value:function(t){var n=Math.floor(t/3600),e=Math.floor(t%3600/60),i=Math.floor(t%3600%60),r=function(t){return("0"+t).slice(-2)};return r(n)+":"+r(e)+":"+r(i)}}]),t}();n.default=a},function(t,n,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),a=e(60),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(a),s=e(49),c=i(s),l=e(82),f=i(l),h=function(){function t(n,e,i,o){r(this,t),this.data=n,this.svgObject=e,this.dims=i,this.options=o,this._createGroups(),this._computeCoordinatesMapping(),this.draw()}return o(t,[{key:"updateData",value:function(t){Object.assign(this.data,t)}},{key:"draw",value:function(){this.options.showStops&&this._drawStops(),this._drawStopAreas(),this._drawLinks(),this._drawTrips()}},{key:"_createGroups",value:function(){this.stopsGroup=this.svgObject.append("g").attr("id","stops"),this.linksGroup=this.svgObject.append("g").attr("id","links"),this.stopAreasGroup=this.svgObject.append("g").attr("id","stopAreas"),this.tripsGroup=this.svgObject.append("g").attr("id","trips")}},{key:"_computeCoordinatesMapping",value:function(){this.stopsMinX=Number.MAX_VALUE,this.stopsMinY=Number.MAX_VALUE,this.stopsMaxX=Number.MIN_VALUE,this.stopsMaxY=Number.MIN_VALUE;var t=!0,n=!1,e=void 0;try{for(var i,r=this.data.stops[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=i.value,a=o.position;a.x<this.stopsMinX&&(this.stopsMinX=a.x),a.y<this.stopsMinY&&(this.stopsMinY=a.y),a.x>this.stopsMaxX&&(this.stopsMaxX=a.x),a.y>this.stopsMaxY&&(this.stopsMaxY=a.y)}}catch(t){n=!0,e=t}finally{try{!t&&r.return&&r.return()}finally{if(n)throw e}}this.stopsGridAspectRatio=(this.stopsMaxX-this.stopsMinX)/(this.stopsMaxY-this.stopsMinY),this.mapAspectRatio=this.dims.innerWidth/this.dims.innerHeight}},{key:"_mapToCanvas",value:function(t){if(this.stopsGridAspectRatio>this.mapAspectRatio){var n=(this.dims.innerHeight-this.dims.innerWidth/this.stopsGridAspectRatio)/2,e=new c.default((t.x-this.stopsMinX)*this.dims.innerWidth/(this.stopsMaxX-this.stopsMinX),(t.y-this.stopsMinY)*(this.dims.innerWidth/this.stopsGridAspectRatio)/(this.stopsMaxY-this.stopsMinY)+n);return e.y=this.dims.innerHeight-e.y,e}var i=(this.dims.innerWidth-this.dims.innerHeight*this.stopsGridAspectRatio)/2,r=new c.default((t.x-this.stopsMinX)*(this.dims.innerHeight*this.stopsGridAspectRatio)/(this.stopsMaxX-this.stopsMinX)+i,(t.y-this.stopsMinY)*this.dims.innerHeight/(this.stopsMaxY-this.stopsMinY));return r.y=this.dims.innerHeight-r.y,r}},{key:"_drawStops",value:function(){var t=this,n=this.stopsGroup.selectAll("g.stop").data(this.data.stops.map(function(n){var e=n.stopCode,i=n.position;return{stopCode:e,position:t._mapToCanvas(i)}}),function(t){return t.stopCode});n.exit().remove(),n.attr("transform",function(t){var n=t.position;return"translate("+n.x+","+n.y+")"});var e=n.enter().append("g").attr("class","stop").attr("data-stop-code",function(t){return t.stopCode}).attr("transform",function(t){var n=t.position;return"translate("+n.x+","+n.y+")"});e.append("circle").attr("cx",0).attr("cy",0).attr("r",this.options.stopRadius).on("click",function(){var t=this.parentNode.dataset.stopCode;u.info("Clicked on stop "+t)}),e.append("text").attr("x",0).attr("y",1).text(function(t){return t.stopCode})}},{key:"_drawStopAreas",value:function(){var t=this,n=this.stopAreasGroup.selectAll("g.stopArea").data(this.data.stopAreas.map(function(n){var e=n.stopAreaCode,i=n.position;return{stopAreaCode:e,position:t._mapToCanvas(i)}}),function(t){return t.stopAreaCode});n.exit().remove(),n.attr("transform",function(t){var n=t.position;return"translate("+n.x+","+n.y+")"});var e=n.enter().append("g").attr("class","stopArea").attr("data-stop-area-code",function(t){return t.stopAreaCode}).attr("transform",function(t){var n=t.position;return"translate("+n.x+","+n.y+")"});e.append("circle").attr("cx",0).attr("cy",0).attr("r",this.options.stopAreaRadius).on("click",function(){var t=this.parentNode.dataset.stopAreaCode;u.info("Clicked on stop area "+t)}),e.append("text").attr("x",0).attr("y",-1).text(function(t){return t.stopAreaCode})}},{key:"_drawLinks",value:function(){var t=this,n=this.linksGroup.selectAll("line.link").data(this.data.links.map(function(n){var e=n.linkID,i=n.segment;return{linkID:e,segment:new f.default(t._mapToCanvas(i.pointA),t._mapToCanvas(i.pointB))}}),function(t){return t.linkID});n.exit().remove(),n.attr("x1",function(t){return t.segment.pointA.x}).attr("y1",function(t){return t.segment.pointA.y}).attr("x2",function(t){return t.segment.pointB.x}).attr("y2",function(t){return t.segment.pointB.y}),n.enter().append("line").attr("class","link").attr("data-link-id",function(t){return t.linkID}).attr("x1",function(t){return t.segment.pointA.x}).attr("y1",function(t){return t.segment.pointA.y}).attr("x2",function(t){return t.segment.pointB.x}).attr("y2",function(t){return t.segment.pointB.y}).on("click",function(){var t=this.dataset.linkId;u.info("Clicked on link "+t)})}},{key:"_drawTrips",value:function(){var t=this,n=this.tripsGroup.selectAll("g.trip").data(this.data.trips.map(function(n){var e=n.tripCode,i=n.position;return{tripCode:e,position:t._mapToCanvas(i)}}),function(t){return t.tripCode});n.exit().remove(),n.attr("transform",function(t){var n=t.position;return"translate("+n.x+","+n.y+")"});var e=n.enter().append("g").attr("class","trip").attr("data-trip-code",function(t){return t.tripCode}).attr("transform",function(t){var n=t.position;return"translate("+n.x+","+n.y+")"});e.append("circle").attr("cx",0).attr("cy",0).attr("r",this.options.tripRadius).on("click",function(){var t=this.parentNode.dataset.tripCode;u.info("Clicked on trip "+t)}),e.append("text").attr("x",0).attr("y",-1).text(function(t){return t.tripCode})}}]),t}();n.default=h},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),o=e(25),a=e(247),u=e(283),s=e(26),c=e(0),l=e(287),f=Object.assign({},{timeParse:o.timeParse,timeFormat:o.timeFormat,scaleLinear:a.scaleLinear,scaleTime:a.scaleTime,axisLeft:u.axisLeft,axisTop:u.axisTop,axisRight:u.axisRight,timeMinute:s.timeMinute,mouse:c.mouse,select:c.select,line:l.line}),h=function(){function t(n,e,r,o,a){i(this,t),this.data=n,this.svgObject=e,this.dims=r,this.options=o,this._initialSetup(a),this.drawTrips()}return r(t,[{key:"_initialSetup",value:function(t){this.tripTimeParse=f.timeParse("%H:%M:%S"),this.yAxisTimeFormat=f.timeFormat("%H:%M"),this.timelineTimeFormat=f.timeFormat("%H:%M:%S"),this._computeMinMaxTime(),this._createGroups(),this._createScales(),this._drawYAxes(),this._drawXAxis(),this._createTimeline(t)}},{key:"_createScales",value:function(){this.xScale=f.scaleLinear().domain([0,this.data.stopsDistances[this.data.stopsDistances.length-1].distance]).range([0,this.dims.innerWidth]),this.yScale=f.scaleTime().domain([this.minTime,this.maxTime]).range([0,this.dims.innerHeight])}},{key:"_createGroups",value:function(){this.yLeftAxisGroup=this.svgObject.append("g").attr("class","left-axis axis"),this.yRightAxisGroup=this.svgObject.append("g").attr("class","right-axis axis").attr("transform","translate("+this.dims.innerWidth+",0)"),this.tripsGroup=this.svgObject.append("g").attr("id","trips")}},{key:"_computeMinMaxTime",value:function(){var t=this.data.trips[0].tripSchedule,n=[this.tripTimeParse(t[0].time),this.tripTimeParse(t[t.length-1].time)],e=n[0],i=n[1],r=!0,o=!1,a=void 0;try{for(var u,s=this.data.trips[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var c=u.value,l=c.tripSchedule,f=this.tripTimeParse(l[0].time),h=this.tripTimeParse(l[l.length-1].time);f<e&&(e=f),h>i&&(i=h)}}catch(t){o=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}this.minTime=e,this.maxTime=i}},{key:"_drawYAxes",value:function(){var t=f.axisLeft(this.yScale).ticks(f.timeMinute.every(20)).tickFormat(this.yAxisTimeFormat),n=f.axisRight(this.yScale).ticks(f.timeMinute.every(20)).tickFormat(this.yAxisTimeFormat);this.yLeftAxisGroup.call(t),this.yRightAxisGroup.call(n)}},{key:"_drawXAxis",value:function(){var t=this,n=f.axisTop(this.xScale).tickSize(-this.dims.innerHeight).tickValues(this.data.stopsDistances.map(function(t){return t.distance})).tickFormat(function(n,e){return t.data.stopsDistances[e].stopCode}),e=this.svgObject.append("g").attr("class","top-axis axis");e.call(n),e.selectAll("text").attr("y",0).attr("x",5).attr("dy",".35em");var i=document.getElementById("marey-container");i.addEventListener("scroll",function(){e.node().setAttribute("transform","translate(0,"+i.scrollTop+")")},!1)}},{key:"_createTimeline",value:function(t){var n=this,e=this.yScale(this.minTime),i=this.svgObject.append("g").attr("class","timeline").attr("transform","translate(0,"+e+")");i.append("line").attr("x1",0).attr("x2",this.dims.innerWidth),i.append("text").text(this.timelineTimeFormat(this.minTime)).attr("x",5).attr("y",-5),this.svgObject.append("rect").attr("id","mouse-move-overlay").attr("width",this.dims.innerWidth).attr("height",this.dims.innerHeight).on("mousemove",function(){var e=document.getElementById("mouse-move-overlay"),i=f.mouse(e)[1],r=n.yScale.invert(i),o=n.timelineTimeFormat(r);t(o),f.select("g.timeline").attr("transform","translate(0,"+i+")"),f.select("g.timeline text").text(o)})}},{key:"drawTrips",value:function(){var t=this,n=this.tripsGroup.selectAll("g.trip").data(this.data.trips),e=f.line().x(function(n){var e=n.distance;return t.xScale(e)}).y(function(n){var e=n.time;return t.yScale(t.tripTimeParse(e))});n.enter().append("g").attr("class","trip").attr("data-tripcode",function(t){return t.tripCode}).append("path").attr("d",function(t){var n=t.tripSchedule;return e(n)})}}]),t}();n.default=h},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(248);e.d(n,"scaleBand",function(){return i.a}),e.d(n,"scalePoint",function(){return i.b});var r=e(265);e.d(n,"scaleIdentity",function(){return r.a});var o=e(14);e.d(n,"scaleLinear",function(){return o.a});var a=e(276);e.d(n,"scaleLog",function(){return a.a});var u=e(95);e.d(n,"scaleOrdinal",function(){return u.a}),e.d(n,"scaleImplicit",function(){return u.b});var s=e(277);e.d(n,"scalePow",function(){return s.a}),e.d(n,"scaleSqrt",function(){return s.b});var c=e(278);e.d(n,"scaleQuantile",function(){return c.a});var l=e(279);e.d(n,"scaleQuantize",function(){return l.a});var f=e(280);e.d(n,"scaleThreshold",function(){return f.a});var h=e(103);e.d(n,"scaleTime",function(){return h.b});var d=e(281);e.d(n,"scaleUtc",function(){return d.a});var p=e(282);e.d(n,"scaleSequential",function(){return p.a})},function(t,n,e){"use strict";function i(){function t(){var t=o().length,i=c[1]<c[0],r=c[i-0],u=c[1-i];n=(u-r)/Math.max(1,t-f+2*h),l&&(n=Math.floor(n)),r+=(u-r-n*(t-f))*d,e=n*(1-f),l&&(r=Math.round(r),e=Math.round(e));var p=Object(a.e)(t).map(function(t){return r+n*t});return s(i?p.reverse():p)}var n,e,r=Object(u.a)().unknown(void 0),o=r.domain,s=r.range,c=[0,1],l=!1,f=0,h=0,d=.5;return delete r.unknown,r.domain=function(n){return arguments.length?(o(n),t()):o()},r.range=function(n){return arguments.length?(c=[+n[0],+n[1]],t()):c.slice()},r.rangeRound=function(n){return c=[+n[0],+n[1]],l=!0,t()},r.bandwidth=function(){return e},r.step=function(){return n},r.round=function(n){return arguments.length?(l=!!n,t()):l},r.padding=function(n){return arguments.length?(f=h=Math.max(0,Math.min(1,n)),t()):f},r.paddingInner=function(n){return arguments.length?(f=Math.max(0,Math.min(1,n)),t()):f},r.paddingOuter=function(n){return arguments.length?(h=Math.max(0,Math.min(1,n)),t()):h},r.align=function(n){return arguments.length?(d=Math.max(0,Math.min(1,n)),t()):d},r.copy=function(){return i().domain(o()).range(c).round(l).paddingInner(f).paddingOuter(h).align(d)},t()}function r(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return r(n())},t}function o(){return r(i().paddingInner(1))}n.a=i,n.b=o;var a=e(5),u=e(95)},function(t,n,e){"use strict";e(85)},function(t,n,e){"use strict"},function(t,n,e){"use strict";e(89),e(83),e(252),e(88),e(253),e(90),e(91),e(92)},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";n.a=function(t){return t}},function(t,n,e){"use strict";e(89),e(11),e(13),e(50)},function(t,n,e){"use strict";e(86)},function(t,n,e){"use strict"},function(t,n,e){"use strict";e(13)},function(t,n,e){"use strict";e(11),e(13),e(50)},function(t,n,e){"use strict"},function(t,n,e){"use strict"},function(t,n,e){"use strict";e(11)},function(t,n,e){"use strict"},function(t,n,e){"use strict"},function(t,n,e){"use strict";e(94)},function(t,n,e){"use strict";function i(){function t(t){return+t}var n=[0,1];return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=r.a.call(e,a.a),t):n.slice()},t.copy=function(){return i().domain(n)},Object(o.b)(t)}n.a=i;var r=e(9),o=e(14),a=e(96)},function(t,n,e){"use strict";var i=e(5),r=e(97);n.a=function(t,n,e){var o,a=t[0],u=t[t.length-1],s=Object(i.g)(a,u,null==n?10:n);switch(e=Object(r.c)(null==e?",f":e),e.type){case"s":var c=Math.max(Math.abs(a),Math.abs(u));return null!=e.precision||isNaN(o=Object(r.e)(s,c))||(e.precision=o),Object(r.b)(e,c);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(o=Object(r.f)(s,Math.max(Math.abs(a),Math.abs(u))))||(e.precision=o-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(o=Object(r.d)(s))||(e.precision=o-2*("%"===e.type))}return Object(r.a)(e)}},function(t,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return o});var i,r,o,a=e(98);!function(t){i=Object(a.a)(t),r=i.format,o=i.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""]})},function(t,n,e){"use strict";n.a=function(t,n){return function(e,i){for(var r=e.length,o=[],a=0,u=t[0],s=0;r>0&&u>0&&(s+u+1>i&&(u=Math.max(1,i-s)),o.push(e.substring(r-=u,r+u)),!((s+=u+1)>i));)u=t[a=(a+1)%t.length];return o.reverse().join(n)}}},function(t,n,e){"use strict";n.a=function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}},function(t,n,e){"use strict";n.a=function(t,n){t=t.toPrecision(n);t:for(var e,i=t.length,r=1,o=-1;r<i;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}},function(t,n,e){"use strict";var i=e(52);n.a=function(t,n){var e=Object(i.a)(t,n);if(!e)return t+"";var r=e[0],o=e[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}},function(t,n,e){"use strict";n.a=function(t){return t}},function(t,n,e){"use strict";var i=e(28);n.a=function(t){return Math.max(0,-Object(i.a)(Math.abs(t)))}},function(t,n,e){"use strict";var i=e(28);n.a=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(i.a)(n)/3)))-Object(i.a)(Math.abs(t)))}},function(t,n,e){"use strict";var i=e(28);n.a=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Object(i.a)(n)-Object(i.a)(t))+1}},function(t,n,e){"use strict";function i(t,n){return(n=Math.log(n/t))?function(e){return Math.log(e/t)/n}:Object(h.a)(n)}function r(t,n){return t<0?function(e){return-Math.pow(-n,e)*Math.pow(-t,1-e)}:function(e){return Math.pow(n,e)*Math.pow(t,1-e)}}function o(t){return isFinite(t)?+("1e"+t):t<0?0:t}function a(t){return 10===t?o:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function u(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function s(t){return function(n){return-t(-n)}}function c(){function t(){return h=u(o),_=a(o),e()[0]<0&&(h=s(h),_=s(_)),n}var n=Object(p.b)(i,r).domain([1,10]),e=n.domain,o=10,h=u(10),_=a(10);return n.base=function(n){return arguments.length?(o=+n,t()):o},n.domain=function(n){return arguments.length?(e(n),t()):e()},n.ticks=function(t){var n,i=e(),r=i[0],a=i[i.length-1];(n=a<r)&&(f=r,r=a,a=f);var u,s,c,f=h(r),d=h(a),p=null==t?10:+t,v=[];if(!(o%1)&&d-f<p){if(f=Math.round(f)-1,d=Math.round(d)+1,r>0){for(;f<d;++f)for(s=1,u=_(f);s<o;++s)if(!((c=u*s)<r)){if(c>a)break;v.push(c)}}else for(;f<d;++f)for(s=o-1,u=_(f);s>=1;--s)if(!((c=u*s)<r)){if(c>a)break;v.push(c)}}else v=Object(l.h)(f,d,Math.min(d-f,p)).map(_);return n?v.reverse():v},n.tickFormat=function(t,e){if(null==e&&(e=10===o?".0e":","),"function"!=typeof e&&(e=Object(f.a)(e)),t===1/0)return e;null==t&&(t=10);var i=Math.max(1,o*t/n.ticks().length);return function(t){var n=t/_(Math.round(h(t)));return n*o<o-.5&&(n*=o),n<=i?e(t):""}},n.nice=function(){return e(Object(d.a)(e(),{floor:function(t){return _(Math.floor(h(t)))},ceil:function(t){return _(Math.ceil(h(t)))}}))},n.copy=function(){return Object(p.a)(n,c().base(o))},n}n.a=c;var l=e(5),f=e(97),h=e(51),d=e(102),p=e(27)},function(t,n,e){"use strict";function i(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function r(){function t(t,n){return(n=i(n,e)-(t=i(t,e)))?function(r){return(i(r,e)-t)/n}:Object(a.a)(n)}function n(t,n){return n=i(n,e)-(t=i(t,e)),function(r){return i(t+n*r,1/e)}}var e=1,o=Object(s.b)(t,n),c=o.domain;return o.exponent=function(t){return arguments.length?(e=+t,c(c())):e},o.copy=function(){return Object(s.a)(o,r().exponent(e))},Object(u.b)(o)}function o(){return r().exponent(.5)}n.a=r,n.b=o;var a=e(51),u=e(14),s=e(27)},function(t,n,e){"use strict";function i(){function t(){var t=0,i=Math.max(1,a.length);for(u=new Array(i-1);++t<i;)u[t-1]=Object(r.d)(e,t/i);return n}function n(t){if(!isNaN(t=+t))return a[Object(r.b)(u,t)]}var e=[],a=[],u=[];return n.invertExtent=function(t){var n=a.indexOf(t);return n<0?[NaN,NaN]:[n>0?u[n-1]:e[0],n<u.length?u[n]:e[e.length-1]]},n.domain=function(n){if(!arguments.length)return e.slice();e=[];for(var i,o=0,a=n.length;o<a;++o)null==(i=n[o])||isNaN(i=+i)||e.push(i);return e.sort(r.a),t()},n.range=function(n){return arguments.length?(a=o.b.call(n),t()):a.slice()},n.quantiles=function(){return u.slice()},n.copy=function(){return i().domain(e).range(a)},n}n.a=i;var r=e(5),o=e(9)},function(t,n,e){"use strict";function i(){function t(t){if(t<=t)return l[Object(r.b)(c,t,0,s)]}function n(){var n=-1;for(c=new Array(s);++n<s;)c[n]=((n+1)*u-(n-s)*e)/(s+1);return t}var e=0,u=1,s=1,c=[.5],l=[0,1];return t.domain=function(t){return arguments.length?(e=+t[0],u=+t[1],n()):[e,u]},t.range=function(t){return arguments.length?(s=(l=o.b.call(t)).length-1,n()):l.slice()},t.invertExtent=function(t){var n=l.indexOf(t);return n<0?[NaN,NaN]:n<1?[e,c[0]]:n>=s?[c[s-1],u]:[c[n-1],c[n]]},t.copy=function(){return i().domain([e,u]).range(l)},Object(a.b)(t)}n.a=i;var r=e(5),o=e(9),a=e(14)},function(t,n,e){"use strict";function i(){function t(t){if(t<=t)return e[Object(r.b)(n,t,0,a)]}var n=[.5],e=[0,1],a=1;return t.domain=function(i){return arguments.length?(n=o.b.call(i),a=Math.min(n.length,e.length-1),t):n.slice()},t.range=function(i){return arguments.length?(e=o.b.call(i),a=Math.min(n.length,e.length-1),t):e.slice()},t.invertExtent=function(t){var i=e.indexOf(t);return[n[i-1],n[i]]},t.copy=function(){return i().domain(n).range(e)},t}n.a=i;var r=e(5),o=e(9)},function(t,n,e){"use strict";var i=e(103),r=e(25),o=e(26);n.a=function(){return Object(i.a)(o.utcYear,o.utcMonth,o.utcWeek,o.utcDay,o.utcHour,o.utcMinute,o.utcSecond,o.utcMillisecond,r.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}},function(t,n,e){"use strict";function i(t){function n(n){var i=(n-e)/(o-e);return t(a?Math.max(0,Math.min(1,i)):i)}var e=0,o=1,a=!1;return n.domain=function(t){return arguments.length?(e=+t[0],o=+t[1],n):[e,o]},n.clamp=function(t){return arguments.length?(a=!!t,n):a},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return i(t).domain([e,o]).clamp(a)},Object(r.b)(n)}n.a=i;var r=e(14)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(284);e.d(n,"axisTop",function(){return i.d}),e.d(n,"axisRight",function(){return i.c}),e.d(n,"axisBottom",function(){return i.a}),e.d(n,"axisLeft",function(){return i.b})},function(t,n,e){"use strict";function i(t){return"translate("+(t+.5)+",0)"}function r(t){return"translate(0,"+(t+.5)+")"}function o(t){return function(n){return+t(n)}}function a(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function u(){return!this.__axis}function s(t,n){function e(e){var i=null==c?n.ticks?n.ticks.apply(n,s):n.domain():c,r=null==l?n.tickFormat?n.tickFormat.apply(n,s):p.a:l,d=Math.max(f,0)+b,j=n.range(),M=+j[0]+.5,k=+j[j.length-1]+.5,A=(n.bandwidth?a:o)(n.copy()),T=e.selection?e.selection():e,S=T.selectAll(".domain").data([null]),C=T.selectAll(".tick").data(i,n).order(),E=C.exit(),N=C.enter().append("g").attr("class","tick"),P=C.select("line"),D=C.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),C=C.merge(N),P=P.merge(N.append("line").attr("stroke","#000").attr(w+"2",x*f)),D=D.merge(N.append("text").attr("fill","#000").attr(w,x*d).attr("dy",t===_?"0em":t===m?"0.71em":"0.32em")),e!==T&&(S=S.transition(e),C=C.transition(e),P=P.transition(e),D=D.transition(e),E=E.transition(e).attr("opacity",y).attr("transform",function(t){return isFinite(t=A(t))?O(t):this.getAttribute("transform")}),N.attr("opacity",y).attr("transform",function(t){var n=this.parentNode.__axis;return O(n&&isFinite(n=n(t))?n:A(t))})),E.remove(),S.attr("d",t===g||t==v?"M"+x*h+","+M+"H0.5V"+k+"H"+x*h:"M"+M+","+x*h+"V0.5H"+k+"V"+x*h),C.attr("opacity",1).attr("transform",function(t){return O(A(t))}),P.attr(w+"2",x*f),D.attr(w,x*d).text(r),T.filter(u).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===v?"start":t===g?"end":"middle"),T.each(function(){this.__axis=A})}var s=[],c=null,l=null,f=6,h=6,b=3,x=t===_||t===g?-1:1,w=t===g||t===v?"x":"y",O=t===_||t===m?i:r;return e.scale=function(t){return arguments.length?(n=t,e):n},e.ticks=function(){return s=d.a.call(arguments),e},e.tickArguments=function(t){return arguments.length?(s=null==t?[]:d.a.call(t),e):s.slice()},e.tickValues=function(t){return arguments.length?(c=null==t?null:d.a.call(t),e):c&&c.slice()},e.tickFormat=function(t){return arguments.length?(l=t,e):l},e.tickSize=function(t){return arguments.length?(f=h=+t,e):f},e.tickSizeInner=function(t){return arguments.length?(f=+t,e):f},e.tickSizeOuter=function(t){return arguments.length?(h=+t,e):h},e.tickPadding=function(t){return arguments.length?(b=+t,e):b},e}function c(t){return s(_,t)}function l(t){return s(v,t)}function f(t){return s(m,t)}function h(t){return s(g,t)}n.d=c,n.c=l,n.a=f,n.b=h;var d=e(285),p=e(286),_=1,v=2,m=3,g=4,y=1e-6},function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=Array.prototype.slice},function(t,n,e){"use strict";n.a=function(t){return t}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(288);e.d(n,"arc",function(){return i.a});var r=e(104);e.d(n,"area",function(){return r.a});var o=e(53);e.d(n,"line",function(){return o.a});var a=e(290);e.d(n,"pie",function(){return a.a});var u=e(293);e.d(n,"areaRadial",function(){return u.a}),e.d(n,"radialArea",function(){return u.a});var s=e(106);e.d(n,"lineRadial",function(){return s.a}),e.d(n,"radialLine",function(){return s.a});var c=e(107);e.d(n,"pointRadial",function(){return c.a});var l=e(294);e.d(n,"linkHorizontal",function(){return l.a}),e.d(n,"linkVertical",function(){return l.c}),e.d(n,"linkRadial",function(){return l.b});var f=e(295);e.d(n,"symbol",function(){return f.a}),e.d(n,"symbols",function(){return f.b});var h=e(109);e.d(n,"symbolCircle",function(){return h.a});var d=e(110);e.d(n,"symbolCross",function(){return d.a});var p=e(111);e.d(n,"symbolDiamond",function(){return p.a});var _=e(113);e.d(n,"symbolSquare",function(){return _.a});var v=e(112);e.d(n,"symbolStar",function(){return v.a});var m=e(114);e.d(n,"symbolTriangle",function(){return m.a});var g=e(115);e.d(n,"symbolWye",function(){return g.a});var y=e(296);e.d(n,"curveBasisClosed",function(){return y.a});var b=e(297);e.d(n,"curveBasisOpen",function(){return b.a});var x=e(31);e.d(n,"curveBasis",function(){return x.b});var w=e(298);e.d(n,"curveBundle",function(){return w.a});var O=e(116);e.d(n,"curveCardinalClosed",function(){return O.b});var j=e(117);e.d(n,"curveCardinalOpen",function(){return j.b});var M=e(32);e.d(n,"curveCardinal",function(){return M.b});var k=e(299);e.d(n,"curveCatmullRomClosed",function(){return k.a});var A=e(300);e.d(n,"curveCatmullRomOpen",function(){return A.a});var T=e(55);e.d(n,"curveCatmullRom",function(){return T.a});var S=e(301);e.d(n,"curveLinearClosed",function(){return S.a});var C=e(29);e.d(n,"curveLinear",function(){return C.a});var E=e(302);e.d(n,"curveMonotoneX",function(){return E.a}),e.d(n,"curveMonotoneY",function(){return E.b});var N=e(303);e.d(n,"curveNatural",function(){return N.a});var P=e(304);e.d(n,"curveStep",function(){return P.a}),e.d(n,"curveStepAfter",function(){return P.b}),e.d(n,"curveStepBefore",function(){return P.c});var D=e(305);e.d(n,"stack",function(){return D.a});var L=e(306);e.d(n,"stackOffsetExpand",function(){return L.a});var R=e(307);e.d(n,"stackOffsetDiverging",function(){return R.a});var H=e(17);e.d(n,"stackOffsetNone",function(){return H.a});var F=e(308);e.d(n,"stackOffsetSilhouette",function(){return F.a});var z=e(309);e.d(n,"stackOffsetWiggle",function(){return z.a});var B=e(56);e.d(n,"stackOrderAscending",function(){return B.a});var U=e(310);e.d(n,"stackOrderDescending",function(){return U.a});var I=e(311);e.d(n,"stackOrderInsideOut",function(){return I.a});var Y=e(18);e.d(n,"stackOrderNone",function(){return Y.a});var V=e(312);e.d(n,"stackOrderReverse",function(){return V.a})},function(t,n,e){"use strict";function i(t){return t.innerRadius}function r(t){return t.outerRadius}function o(t){return t.startAngle}function a(t){return t.endAngle}function u(t){return t&&t.padAngle}function s(t,n,e,i,r,o,a,u){var s=e-t,c=i-n,l=a-r,f=u-o,h=(l*(n-o)-f*(t-r))/(f*s-l*c);return[t+h*s,n+h*c]}function c(t,n,e,i,r,o,a){var u=t-e,s=n-i,c=(a?o:-o)/Object(h.l)(u*u+s*s),l=c*s,f=-c*u,d=t+l,p=n+f,_=e+l,v=i+f,m=(d+_)/2,g=(p+v)/2,y=_-d,b=v-p,x=y*y+b*b,w=r-o,O=d*v-_*p,j=(b<0?-1:1)*Object(h.l)(Object(h.h)(0,w*w*x-O*O)),M=(O*b-y*j)/x,k=(-O*y-b*j)/x,A=(O*b+y*j)/x,T=(-O*y+b*j)/x,S=M-m,C=k-g,E=A-m,N=T-g;return S*S+C*C>E*E+N*N&&(M=A,k=T),{cx:M,cy:k,x01:-l,y01:-f,x11:M*(r/w-1),y11:k*(r/w-1)}}var l=e(15),f=e(10),h=e(16);n.a=function(){function t(){var t,i,r=+n.apply(this,arguments),o=+e.apply(this,arguments),a=_.apply(this,arguments)-h.g,u=v.apply(this,arguments)-h.g,f=Object(h.a)(u-a),y=u>a;if(g||(g=t=Object(l.a)()),o<r&&(i=o,o=r,r=i),o>h.f)if(f>h.m-h.f)g.moveTo(o*Object(h.e)(a),o*Object(h.k)(a)),g.arc(0,0,o,a,u,!y),r>h.f&&(g.moveTo(r*Object(h.e)(u),r*Object(h.k)(u)),g.arc(0,0,r,u,a,y));else{var b,x,w=a,O=u,j=a,M=u,k=f,A=f,T=m.apply(this,arguments)/2,S=T>h.f&&(p?+p.apply(this,arguments):Object(h.l)(r*r+o*o)),C=Object(h.i)(Object(h.a)(o-r)/2,+d.apply(this,arguments)),E=C,N=C;if(S>h.f){var P=Object(h.c)(S/r*Object(h.k)(T)),D=Object(h.c)(S/o*Object(h.k)(T));(k-=2*P)>h.f?(P*=y?1:-1,j+=P,M-=P):(k=0,j=M=(a+u)/2),(A-=2*D)>h.f?(D*=y?1:-1,w+=D,O-=D):(A=0,w=O=(a+u)/2)}var L=o*Object(h.e)(w),R=o*Object(h.k)(w),H=r*Object(h.e)(M),F=r*Object(h.k)(M);if(C>h.f){var z=o*Object(h.e)(O),B=o*Object(h.k)(O),U=r*Object(h.e)(j),I=r*Object(h.k)(j);if(f<h.j){var Y=k>h.f?s(L,R,U,I,z,B,H,F):[H,F],V=L-Y[0],X=R-Y[1],G=z-Y[0],q=B-Y[1],W=1/Object(h.k)(Object(h.b)((V*G+X*q)/(Object(h.l)(V*V+X*X)*Object(h.l)(G*G+q*q)))/2),J=Object(h.l)(Y[0]*Y[0]+Y[1]*Y[1]);E=Object(h.i)(C,(r-J)/(W-1)),N=Object(h.i)(C,(o-J)/(W+1))}}A>h.f?N>h.f?(b=c(U,I,L,R,o,N,y),x=c(z,B,H,F,o,N,y),g.moveTo(b.cx+b.x01,b.cy+b.y01),N<C?g.arc(b.cx,b.cy,N,Object(h.d)(b.y01,b.x01),Object(h.d)(x.y01,x.x01),!y):(g.arc(b.cx,b.cy,N,Object(h.d)(b.y01,b.x01),Object(h.d)(b.y11,b.x11),!y),g.arc(0,0,o,Object(h.d)(b.cy+b.y11,b.cx+b.x11),Object(h.d)(x.cy+x.y11,x.cx+x.x11),!y),g.arc(x.cx,x.cy,N,Object(h.d)(x.y11,x.x11),Object(h.d)(x.y01,x.x01),!y))):(g.moveTo(L,R),g.arc(0,0,o,w,O,!y)):g.moveTo(L,R),r>h.f&&k>h.f?E>h.f?(b=c(H,F,z,B,r,-E,y),x=c(L,R,U,I,r,-E,y),g.lineTo(b.cx+b.x01,b.cy+b.y01),E<C?g.arc(b.cx,b.cy,E,Object(h.d)(b.y01,b.x01),Object(h.d)(x.y01,x.x01),!y):(g.arc(b.cx,b.cy,E,Object(h.d)(b.y01,b.x01),Object(h.d)(b.y11,b.x11),!y),g.arc(0,0,r,Object(h.d)(b.cy+b.y11,b.cx+b.x11),Object(h.d)(x.cy+x.y11,x.cx+x.x11),y),g.arc(x.cx,x.cy,E,Object(h.d)(x.y11,x.x11),Object(h.d)(x.y01,x.x01),!y))):g.arc(0,0,r,M,j,y):g.lineTo(H,F)}else g.moveTo(0,0);if(g.closePath(),t)return g=null,t+""||null}var n=i,e=r,d=Object(f.a)(0),p=null,_=o,v=a,m=u,g=null;return t.centroid=function(){var t=(+n.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+_.apply(this,arguments)+ +v.apply(this,arguments))/2-h.j/2;return[Object(h.e)(i)*t,Object(h.k)(i)*t]},t.innerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Object(f.a)(+e),t):n},t.outerRadius=function(n){return arguments.length?(e="function"==typeof n?n:Object(f.a)(+n),t):e},t.cornerRadius=function(n){return arguments.length?(d="function"==typeof n?n:Object(f.a)(+n),t):d},t.padRadius=function(n){return arguments.length?(p=null==n?null:"function"==typeof n?n:Object(f.a)(+n),t):p},t.startAngle=function(n){return arguments.length?(_="function"==typeof n?n:Object(f.a)(+n),t):_},t.endAngle=function(n){return arguments.length?(v="function"==typeof n?n:Object(f.a)(+n),t):v},t.padAngle=function(n){return arguments.length?(m="function"==typeof n?n:Object(f.a)(+n),t):m},t.context=function(n){return arguments.length?(g=null==n?null:n,t):g},t}},function(t,n,e){"use strict";function i(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function r(){return new i}var o=Math.PI,a=2*o,u=a-1e-6;i.prototype=r.prototype={constructor:i,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,i){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+i)},bezierCurveTo:function(t,n,e,i,r,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,n,e,i,r){t=+t,n=+n,e=+e,i=+i,r=+r;var a=this._x1,u=this._y1,s=e-t,c=i-n,l=a-t,f=u-n,h=l*l+f*f;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>1e-6)if(Math.abs(f*s-c*l)>1e-6&&r){var d=e-a,p=i-u,_=s*s+c*c,v=d*d+p*p,m=Math.sqrt(_),g=Math.sqrt(h),y=r*Math.tan((o-Math.acos((_+h-v)/(2*m*g)))/2),b=y/g,x=y/m;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*l)+","+(n+b*f)),this._+="A"+r+","+r+",0,0,"+ +(f*d>l*p)+","+(this._x1=t+x*s)+","+(this._y1=n+x*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,i,r,s){t=+t,n=+n,e=+e;var c=e*Math.cos(i),l=e*Math.sin(i),f=t+c,h=n+l,d=1^s,p=s?i-r:r-i;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+f+","+h:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+f+","+h),e&&(p<0&&(p=p%a+a),p>u?this._+="A"+e+","+e+",0,1,"+d+","+(t-c)+","+(n-l)+"A"+e+","+e+",0,1,"+d+","+(this._x1=f)+","+(this._y1=h):p>1e-6&&(this._+="A"+e+","+e+",0,"+ +(p>=o)+","+d+","+(this._x1=t+e*Math.cos(r))+","+(this._y1=n+e*Math.sin(r))))},rect:function(t,n,e,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +i+"h"+-e+"Z"},toString:function(){return this._}},n.a=r},function(t,n,e){"use strict";var i=e(10),r=e(291),o=e(292),a=e(16);n.a=function(){function t(t){var i,r,o,f,h,d=t.length,p=0,_=new Array(d),v=new Array(d),m=+s.apply(this,arguments),g=Math.min(a.m,Math.max(-a.m,c.apply(this,arguments)-m)),y=Math.min(Math.abs(g)/d,l.apply(this,arguments)),b=y*(g<0?-1:1);for(i=0;i<d;++i)(h=v[_[i]=i]=+n(t[i],i,t))>0&&(p+=h);for(null!=e?_.sort(function(t,n){return e(v[t],v[n])}):null!=u&&_.sort(function(n,e){return u(t[n],t[e])}),i=0,o=p?(g-d*b)/p:0;i<d;++i,m=f)r=_[i],h=v[r],f=m+(h>0?h*o:0)+b,v[r]={data:t[r],index:i,value:h,startAngle:m,endAngle:f,padAngle:y};return v}var n=o.a,e=r.a,u=null,s=Object(i.a)(0),c=Object(i.a)(a.m),l=Object(i.a)(0);return t.value=function(e){return arguments.length?(n="function"==typeof e?e:Object(i.a)(+e),t):n},t.sortValues=function(n){return arguments.length?(e=n,u=null,t):e},t.sort=function(n){return arguments.length?(u=n,e=null,t):u},t.startAngle=function(n){return arguments.length?(s="function"==typeof n?n:Object(i.a)(+n),t):s},t.endAngle=function(n){return arguments.length?(c="function"==typeof n?n:Object(i.a)(+n),t):c},t.padAngle=function(n){return arguments.length?(l="function"==typeof n?n:Object(i.a)(+n),t):l},t}},function(t,n,e){"use strict";n.a=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}},function(t,n,e){"use strict";n.a=function(t){return t}},function(t,n,e){"use strict";var i=e(105),r=e(104),o=e(106);n.a=function(){var t=Object(r.a)().curve(i.a),n=t.curve,e=t.lineX0,a=t.lineX1,u=t.lineY0,s=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Object(o.b)(e())},delete t.lineX0,t.lineEndAngle=function(){return Object(o.b)(a())},delete t.lineX1,t.lineInnerRadius=function(){return Object(o.b)(u())},delete t.lineY0,t.lineOuterRadius=function(){return Object(o.b)(s())},delete t.lineY1,t.curve=function(t){return arguments.length?n(Object(i.b)(t)):n()._curve},t}},function(t,n,e){"use strict";function i(t){return t.source}function r(t){return t.target}function o(t){function n(){var n,i=d.a.call(arguments),r=e.apply(this,i),c=o.apply(this,i);if(s||(s=n=Object(h.a)()),t(s,+a.apply(this,(i[0]=r,i)),+u.apply(this,i),+a.apply(this,(i[0]=c,i)),+u.apply(this,i)),n)return s=null,n+""||null}var e=i,o=r,a=_.a,u=_.b,s=null;return n.source=function(t){return arguments.length?(e=t,n):e},n.target=function(t){return arguments.length?(o=t,n):o},n.x=function(t){return arguments.length?(a="function"==typeof t?t:Object(p.a)(+t),n):a},n.y=function(t){return arguments.length?(u="function"==typeof t?t:Object(p.a)(+t),n):u},n.context=function(t){return arguments.length?(s=null==t?null:t,n):s},n}function a(t,n,e,i,r){t.moveTo(n,e),t.bezierCurveTo(n=(n+i)/2,e,n,r,i,r)}function u(t,n,e,i,r){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+r)/2,i,e,i,r)}function s(t,n,e,i,r){var o=Object(v.a)(n,e),a=Object(v.a)(n,e=(e+r)/2),u=Object(v.a)(i,e),s=Object(v.a)(i,r);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],s[0],s[1])}function c(){return o(a)}function l(){return o(u)}function f(){var t=o(s);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}n.a=c,n.c=l,n.b=f;var h=e(15),d=e(108),p=e(10),_=e(54),v=e(107)},function(t,n,e){"use strict";e.d(n,"b",function(){return h});var i=e(15),r=e(109),o=e(110),a=e(111),u=e(112),s=e(113),c=e(114),l=e(115),f=e(10),h=[r.a,o.a,a.a,s.a,u.a,c.a,l.a];n.a=function(){function t(){var t;if(o||(o=t=Object(i.a)()),n.apply(this,arguments).draw(o,+e.apply(this,arguments)),t)return o=null,t+""||null}var n=Object(f.a)(r.a),e=Object(f.a)(64),o=null;return t.type=function(e){return arguments.length?(n="function"==typeof e?e:Object(f.a)(e),t):n},t.size=function(n){return arguments.length?(e="function"==typeof n?n:Object(f.a)(+n),t):e},t.context=function(n){return arguments.length?(o=null==n?null:n,t):o},t}},function(t,n,e){"use strict";function i(t){this._context=t}var r=e(30),o=e(31);i.prototype={areaStart:r.a,areaEnd:r.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Object(o.c)(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},n.a=function(t){return new i(t)}},function(t,n,e){"use strict";function i(t){this._context=t}var r=e(31);i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break;case 3:this._point=4;default:Object(r.c)(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},n.a=function(t){return new i(t)}},function(t,n,e){"use strict";function i(t,n){this._basis=new r.a(t),this._beta=n}var r=e(31);i.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var i,r=t[0],o=n[0],a=t[e]-r,u=n[e]-o,s=-1;++s<=e;)i=s/e,this._basis.point(this._beta*t[s]+(1-this._beta)*(r+i*a),this._beta*n[s]+(1-this._beta)*(o+i*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}},n.a=function t(n){function e(t){return 1===n?new r.a(t):new i(t,n)}return e.beta=function(n){return t(+n)},e}(.85)},function(t,n,e){"use strict";function i(t,n){this._context=t,this._alpha=n}var r=e(116),o=e(30),a=e(55);i.prototype={areaStart:o.a,areaEnd:o.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Object(a.b)(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},n.a=function t(n){function e(t){return n?new i(t,n):new r.a(t,0)}return e.alpha=function(n){return t(+n)},e}(.5)},function(t,n,e){"use strict";function i(t,n){this._context=t,this._alpha=n}var r=e(117),o=e(55);i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(o.b)(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},n.a=function t(n){function e(t){return n?new i(t,n):new r.a(t,0)}return e.alpha=function(n){return t(+n)},e}(.5)},function(t,n,e){"use strict";function i(t){this._context=t}var r=e(30);i.prototype={areaStart:r.a,areaEnd:r.a,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},n.a=function(t){return new i(t)}},function(t,n,e){"use strict";function i(t){return t<0?-1:1}function r(t,n,e){var r=t._x1-t._x0,o=n-t._x1,a=(t._y1-t._y0)/(r||o<0&&-0),u=(e-t._y1)/(o||r<0&&-0),s=(a*o+u*r)/(r+o);return(i(a)+i(u))*Math.min(Math.abs(a),Math.abs(u),.5*Math.abs(s))||0}function o(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function a(t,n,e){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,u=(o-i)/3;t._context.bezierCurveTo(i+u,r+u*n,o-u,a-u*e,o,a)}function u(t){this._context=t}function s(t){this._context=new c(t)}function c(t){this._context=t}function l(t){return new u(t)}function f(t){return new s(t)}n.a=l,n.b=f,u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:a(this,this._t0,o(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,t!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,a(this,o(this,e=r(this,t,n)),e);break;default:a(this,this._t0,e=r(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(s.prototype=Object.create(u.prototype)).point=function(t,n){u.prototype.point.call(this,n,t)},c.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,i,r,o){this._context.bezierCurveTo(n,t,i,e,o,r)}}},function(t,n,e){"use strict";function i(t){this._context=t}function r(t){var n,e,i=t.length-1,r=new Array(i),o=new Array(i),a=new Array(i);for(r[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<i-1;++n)r[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(r[i-1]=2,o[i-1]=7,a[i-1]=8*t[i-1]+t[i],n=1;n<i;++n)e=r[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(r[i-1]=a[i-1]/o[i-1],n=i-2;n>=0;--n)r[n]=(a[n]-r[n+1])/o[n];for(o[i-1]=(t[i]+r[i-1])/2,n=0;n<i-1;++n)o[n]=2*t[n+1]-r[n+1];return[r,o]}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var i=r(t),o=r(n),a=0,u=1;u<e;++a,++u)this._context.bezierCurveTo(i[0][a],o[0][a],i[1][a],o[1][a],t[u],n[u]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},n.a=function(t){return new i(t)}},function(t,n,e){"use strict";function i(t,n){this._context=t,this._t=n}function r(t){return new i(t,0)}function o(t){return new i(t,1)}n.c=r,n.b=o,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}},n.a=function(t){return new i(t,.5)}},function(t,n,e){"use strict";function i(t,n){return t[n]}var r=e(108),o=e(10),a=e(17),u=e(18);n.a=function(){function t(t){var i,r,o=n.apply(this,arguments),a=t.length,u=o.length,l=new Array(u);for(i=0;i<u;++i){for(var f,h=o[i],d=l[i]=new Array(a),p=0;p<a;++p)d[p]=f=[0,+c(t[p],h,p,t)],f.data=t[p];d.key=h}for(i=0,r=e(l);i<u;++i)l[r[i]].index=i;return s(l,r),l}var n=Object(o.a)([]),e=u.a,s=a.a,c=i;return t.keys=function(e){return arguments.length?(n="function"==typeof e?e:Object(o.a)(r.a.call(e)),t):n},t.value=function(n){return arguments.length?(c="function"==typeof n?n:Object(o.a)(+n),t):c},t.order=function(n){return arguments.length?(e=null==n?u.a:"function"==typeof n?n:Object(o.a)(r.a.call(n)),t):e},t.offset=function(n){return arguments.length?(s=null==n?a.a:n,t):s},t}},function(t,n,e){"use strict";var i=e(17);n.a=function(t,n){if((r=t.length)>0){for(var e,r,o,a=0,u=t[0].length;a<u;++a){for(o=e=0;e<r;++e)o+=t[e][a][1]||0;if(o)for(e=0;e<r;++e)t[e][a][1]/=o}Object(i.a)(t,n)}}},function(t,n,e){"use strict";n.a=function(t,n){if((u=t.length)>1)for(var e,i,r,o,a,u,s=0,c=t[n[0]].length;s<c;++s)for(o=a=0,e=0;e<u;++e)(r=(i=t[n[e]][s])[1]-i[0])>=0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=a,i[0]=a+=r):i[0]=o}},function(t,n,e){"use strict";var i=e(17);n.a=function(t,n){if((e=t.length)>0){for(var e,r=0,o=t[n[0]],a=o.length;r<a;++r){for(var u=0,s=0;u<e;++u)s+=t[u][r][1]||0;o[r][1]+=o[r][0]=-s/2}Object(i.a)(t,n)}}},function(t,n,e){"use strict";var i=e(17);n.a=function(t,n){if((o=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,o,a=0,u=1;u<r;++u){for(var s=0,c=0,l=0;s<o;++s){for(var f=t[n[s]],h=f[u][1]||0,d=f[u-1][1]||0,p=(h-d)/2,_=0;_<s;++_){var v=t[n[_]];p+=(v[u][1]||0)-(v[u-1][1]||0)}c+=h,l+=p*h}e[u-1][1]+=e[u-1][0]=a,c&&(a-=l/c)}e[u-1][1]+=e[u-1][0]=a,Object(i.a)(t,n)}}},function(t,n,e){"use strict";var i=e(56);n.a=function(t){return Object(i.a)(t).reverse()}},function(t,n,e){"use strict";var i=e(18),r=e(56);n.a=function(t){var n,e,o=t.length,a=t.map(r.b),u=Object(i.a)(t).sort(function(t,n){return a[n]-a[t]}),s=0,c=0,l=[],f=[];for(n=0;n<o;++n)e=u[n],s<c?(s+=a[e],l.push(e)):(c+=a[e],f.push(e));return f.reverse().concat(l)}},function(t,n,e){"use strict";var i=e(18);n.a=function(t){return Object(i.a)(t).reverse()}},function(t,n){}]);